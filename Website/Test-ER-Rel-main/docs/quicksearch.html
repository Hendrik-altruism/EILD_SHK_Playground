<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"ccm.er_rel_trainer.js.html":{"id":"ccm.er_rel_trainer.js.html","title":"Source: ccm.er_rel_trainer.js","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Source: ccm.er_rel_trainer.js 'use strict'; /** * @overview &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @author Andr√© Kless &lt;andre.kless@web.de&gt; 2021-2022 * @license The MIT License (MIT) * @version latest (2.0.0) */ ( () =&gt; { /** * &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @namespace WebComponent * @type {object} * @property {string} name - Unique identifier of the component. * @property {number[]} [version] - Version of the component according to Semantic Versioning 2.0 (default: latest version). * @property {string} ccm - URL of the (interchangeable) ccmjs version used at the time of publication. * @property {app_config} config - Default app configuration. * @property {Class} Instance - Class from which app instances are created. */ const component = { name: 'er_rel_trainer', ccm: './libs/ccm/ccm.js', config: { // \"anytime_finish\": true, // \"auto_arrows\": true, // \"auto_pk\": true, \"comments\": { \"input\": true, \"wrong\": true, \"correct\": true }, \"correction\": true, \"css\": [ \"ccm.load\", [ // is loaded serially (not in parallel) \"./libs/bootstrap-5/css/bootstrap.css\", \"./resources/styles.css\", ], { \"url\": \"./libs/bootstrap-5/css/bootstrap-fonts.css\", \"context\": \"head\" } ], // \"data\": { \"store\": [ \"ccm.store\" ] }, \"default\": { \"format\": \"svg\", \"images\": [ \"e\", \"1\", \"c\", \"n\", \"cn\", \"r\", \"s\" ], \"notation\": \"abrial\", \"path\": \"./resources/img/\" }, \"feedback\": true, // \"fixed_notation\": true, \"helper\": [ \"ccm.load\", { \"url\": \"./libs/ccm/helper.js\", \"type\": \"module\" } ], // \"hide_own_fk\": true, \"html\": [ \"ccm.load\", { \"url\": \"./resources/templates.js\", \"type\": \"module\" } ], \"lang\": [ \"ccm.start\", \"./libs/lang/ccm.lang.js\", { \"translations\": { \"de\": [ \"ccm.load\", { \"url\": \"./configs.js#de\", \"type\": \"module\" } ], \"en\": [ \"ccm.load\", { \"url\": \"./configs.js#en\", \"type\": \"module\" } ] } } ], \"legend\": true, \"modal\": { \"attr\": [ \"ccm.start\", \"./libs/modal/ccm.modal.js\", { \"backdrop_close\": true, \"breakpoints\": false, \"buttons\": [], \"closed\": true, \"content\": \"\", \"css\": [ \"ccm.load\", [ // serial \"./libs/bootstrap-5/css/bootstrap.css\", \"./resources/modal.css\" ], { \"url\": \"./libs/bootstrap-5/css/bootstrap-fonts.css\", \"context\": \"head\" } ] } ], \"legend\": [ \"ccm.start\", \"./libs/modal/ccm.modal.js\", { \"backdrop_close\": true, \"buttons\": \"\", \"closed\": true, \"content\": \"\" } ] }, \"notations\": [ \"ccm.load\", { \"url\": \"./configs.js#notations\", \"type\": \"module\" } ], // \"number\": 5, // \"onchange\": event =&gt; console.log( event ), \"onfinish\": { \"restart\": true }, // \"onready\": event =&gt; console.log( event ), // \"onstart\": event =&gt; console.log( event ), \"phrases\": [ \"ccm.load\", { \"url\": \"./configs.js#phrases\", \"type\": \"module\" } ], \"show_solution\": true, \"shuffle\": true, \"skip\": true, \"text\": [ \"ccm.load\", { \"url\": \"./configs.js#de\", \"type\": \"module\" } ], // \"user\": [ \"ccm.start\", \"./user/ccm.user.js\" ] }, /** * @class * @memberOf WebComponent */ Instance: function () { /** * Shortcut to helper functions * @private * @type {Object.&lt;string,function&gt;} */ let $; /** * App state data * @private * @type {app_state} */ let data; /** * When the instance is created, when all dependencies have been resolved and before the dependent sub-instances are initialized and ready. Allows dynamic post-configuration of the instance. * @async * @readonly * @function */ this.init = async () =&gt; { // Merge all helper functions and offer them via a single variable. $ = Object.assign( {}, this.ccm.helper, this.helper ); $.use( this.ccm ); // Are the phrases given as an associative field? =&gt; Convert the phrases to an array. if ( $.isObject( this.phrases ) ) this.phrases = Object.values( this.phrases ); // By default, all phrases are asked. if ( !this.number ) this.number = this.phrases.length; // Unify notations data for ( const key in this.notations ) { let notation = this.notations[ key ]; this.notations[ key ] = { key: notation.key, title: notation.title, swap: !!notation.swap, centered: !!notation.centered, mirrored: notation.mirrored || this.default.mirrored, images: ( notation.images || this.default.images ).map( image =&gt; image.includes( '.' ) ? image : ( notation.path || this.default.path ) + notation.key + '/' + image + '.' + ( notation.format || this.default.format ) ), comment: notation.comment }; } // Has modal dialog instance for notation legend? =&gt; Set title of modal dialog if ( this.modal &amp;&amp; this.modal.legend ) this.modal.legend.title = `&lt;span data-lang=\"legend\"&gt;${ this.text.legend }&lt;/span&gt;`; // Update the table schema when closing the modal dialog for editing table attributes. this.modal.attr.onclose = () =&gt; render(); }; /** * When the instance is created and after all dependent sub-instances are initialized and ready. Allows the first official actions of the instance that should only happen once. * @async * @readonly * @function */ this.ready = async () =&gt; { // Set content of modal dialog for legend of ER diagram notations. this.modal.legend &amp;&amp; this.html.render( this.html.legend( this ), this.modal.legend.element.querySelector( 'main' ) ); // Trigger 'ready' event this.onready &amp;&amp; await this.onready( { instance: this } ); }; /** * Starts the app. The current app state is visualized in the webpage area. * @async * @readonly * @function */ this.start = async () =&gt; { // Load app state data from source. data = await $.dataset( this.data ); // Set initial app state data. const initial = { correct: 0, notation: data.notation || this.default.notation, phrases: null, results: [] }; // All phrases are finished? =&gt; Restart with initial state. if ( !data.results || !data.phrases || data.results.length &gt;= data.phrases.length ) data = initial; // Restart from initial state? if ( !data.phrases ) { data.phrases = $.clone( this.phrases ); // Clone all original phrases. this.shuffle &amp;&amp; $.shuffleArray( data.phrases ); // Phrases need to be mixed? =&gt; Shuffle phrases data.phrases = data.phrases.slice( 0, this.number ); // Use only required number of phrases. } // Render current phrase nextPhrase(); // Render language selection and user login/logout area. const aside = this.element.querySelector( 'aside' ); if ( aside ) { this.lang &amp;&amp; !this.lang.getContext() &amp;&amp; $.append( aside, this.lang.root ); this.user &amp;&amp; $.append( aside, this.user.root ); } // Trigger 'start' event this.onstart &amp;&amp; await this.onstart( { instance: this } ); }; /** * Returns the current app state. * @readonly * @function * @returns {app_state} A deep copy of the app state data. */ this.getValue = () =&gt; $.clone( data ); /** * Contains all event handlers. * @namespace AppEvents * @readonly * @type {Object.&lt;string,function&gt;} */ this.events = { /** * When the notation used in the ER diagram is switched. * @function * @param {string} value - ID of the selected notation. * @param {boolean} [show_solution] - Correct solution is revealed. * @memberOf AppEvents */ onNotation: ( value, show_solution ) =&gt; { // In the case of n-ary relationships, it is not possible to switch to a reverse-reading notation. if ( data.phrases[ data.results.length - 1 ].entities.length &gt; 2 &amp;&amp; this.notations[ value ].swap ) return; // Change notation in app state data data.notation = value; // Show ER diagram in new notation render( show_solution ); // Trigger 'change' event because of notation change this.onchange &amp;&amp; this.onchange( { event: 'notation', instance: this } ); }, /** * When the button to show the notation legend is clicked. * @function * @memberOf AppEvents */ onLegend: () =&gt; { this.modal.legend.open(); // Open modal dialog for notation legend this.lang &amp;&amp; this.lang.translate( this.modal.legend.element ); // Is multilingual app? =&gt; Translate content of modal dialog this.onchange &amp;&amp; this.onchange( { event: 'legend', instance: this } ); // Trigger the 'change' event for calling the notation legend. }, /** * When the button to add a table is clicked. * @function * @param {table_nr} nr - Table number * @memberOf AppEvents */ onAddTable: nr =&gt; { // Get result data of current phrase const result_data = data.results[ data.results.length - 1 ]; // A table cannot be created during the feedback. if ( result_data.solution ) return; // Create an empty table without any key attributes. result_data.input[ nr ] = Array( data.phrases[ data.results.length - 1 ].entities.length + 1 ).fill( 0 ); // Should an artificial primary key be created automatically? =&gt; Add artificial primary key if ( this.auto_pk ) result_data.input[ nr ][ nr ] = 6; // 6 = 4 (0100b =&gt; PK) + 2 (0010b =&gt; NOT NULL) // Open modal dialog for editing table attributes this.events.onEditTable( nr ); }, /** * When the button for editing the table attributes is clicked. * @function * @param {table_nr} nr - Table number * @memberOf AppEvents */ onEditTable: nr =&gt; { // Table attributes can't be edited during the feedback. if ( data.results[ data.results.length - 1 ].solution ) return; // Set content of modal dialog for title, body and footer this.html.render( this.html.tableDialogTitle( this, nr ), this.modal.attr.element.querySelector( '#title' ) ); this.html.render( this.html.tableDialogBody( this, nr ), this.modal.attr.element.querySelector( 'main' ) ); this.html.render( this.html.tableDialogFooter( this ), this.modal.attr.element.querySelector( 'footer' ) ); this.lang &amp;&amp; this.lang.translate( this.modal.attr.element ); // Is multilingual app? =&gt; Translate content of modal dialog this.modal.attr.open(); // Open modal dialog for editing table attributes }, /** * When the button for removing a table is clicked. * @function * @param {table_nr} nr - Table number * @memberOf AppEvents */ onRemoveTable: nr =&gt; { const result_data = data.results[ data.results.length - 1 ]; // Get result data of current phrase if ( result_data.solution ) return; // A table can't be removed during the feedback. result_data.input[ nr ] = null; // Remove table in app state data // Remove all arrowheads on the table in app state data. result_data.input.forEach( table =&gt; table &amp;&amp; ( table[ nr ] &amp;= ~15872 ) ); // 15872 = (0011 1110 0000 0000b =&gt; arrow heads for FK0-FK4) render(); // Remove table in webpage area }, /** * When a badge of a key attribute is clicked. * @function * @param {table_nr} table - Table number * @param {table_nr} attr - Table that references the attribute as a foreign key. * @param {number} badge_nr - 0: NULL, 1: NOT NULL, 2: PK, 3: AK, 4: FK0, 5: FK1, 6: FK2, 7: FK3, 8: FK4 * @memberOf AppEvents */ onToggleBadge: ( table, attr, badge_nr ) =&gt; { const phrase_data = data.phrases[ data.results.length - 1 ]; // Get data of the current phrase. const result_data = data.results[ data.results.length - 1 ]; // Get result data of the current phrase. const table_state = result_data.input[ table ]; // Get state data of the table. const toggleBit = ( table_data, i, bit ) =&gt; table_data[ i ] ^= 1 &lt;&lt; bit; // Toggles a bit of an attribute value. // When a foreign key is removed, the associated arrowhead is also removed. if ( badge_nr &gt;= 4 &amp;&amp; badge_nr &lt;= 8 &amp;&amp; table_state[ attr ] &amp; ( 1 &lt;&lt; badge_nr ) ) table_state[ attr ] &amp;= ~( 1 &lt;&lt; ( badge_nr + 5 ) ); toggleBit( table_state, attr, badge_nr ); // Update the attribute value in the state data of the table. const value = table_state[ attr ]; // Get updated attribute value // A foreign key is changed and arrows should be set automatically? =&gt; Toggle the corresponding foreign key arrowhead. if ( badge_nr &gt;= 4 &amp;&amp; badge_nr &lt;= 8 &amp;&amp; this.auto_arrows &amp;&amp; !( phrase_data.solution.length === 2 &amp;&amp; phrase_data.entities[ 0 ] === phrase_data.entities[ 1 ] &amp;&amp; table === 0 &amp;&amp; badge_nr === 6 ) ) toggleBit( table_state, attr, badge_nr + 5 ); // An attribute cannot be optional (NULL) and mandatory (NOT NULL) at the same time. if ( badge_nr === 0 &amp;&amp; value &amp; 1 &lt;&lt; 1 ) toggleBit( table_state, attr, 1 ); if ( badge_nr === 1 &amp;&amp; value &amp; 1 &lt;&lt; 0 ) toggleBit( table_state, attr, 0 ); // Update the body section of the modal dialog for editing table attributes. this.html.render( this.html.tableDialogBody( this, table ), this.modal.attr.element.querySelector( 'main' ) ); }, /** * When the end point of a connection between two tables is changed via a selector box. * @function * @param {string} value - The selected value in the selector box ('', 'line' or 'arrow'). * @param {table_nr} from - Number of the table from which the connection starts. * @param {table_nr} to - Number of the table to which the connection goes. * @memberOf AppEvents * @example onArrow( 'arrow', 1, 2 ) // Setting an arrow for the connection from entity table 1 to entity table 2 [E1]-&gt;[E2] */ onArrow: ( value, from, to ) =&gt; { // Get the status data of the table that contains the associated foreign key. const table_state = data.results[ data.results.length - 1 ].input[ from ]; // Set/Unset the arrowhead in the table state data for the appropriate foreign key. value === 'arrow' ? table_state[ to ] |= 1 &lt;&lt; 9 + to : table_state[ to ] &amp;= ~( 1 &lt;&lt; 9 + to ); // 1 &lt;&lt; 9-13 =&gt; arrow for FK0-FK4 render(); // Update the changed table connection in the web page area. }, /** * When the button is clicked that allows the user to submit a solution. * @function * @memberOf AppEvents */ onSubmit: () =&gt; { const phrase_data = data.phrases[ data.results.length - 1 ]; // Get data of current phrase const result_data = data.results[ data.results.length - 1 ]; // Get result data of current phrase if ( result_data.solution ) return; // A user's solution can't be submitted during the feedback. // Determine what type of relationship is being modeled. const is_binary = phrase_data.solution.length === 2; // Binary relationship with two entities. const is_recursive = is_binary &amp;&amp; phrase_data.entities[ 0 ] === phrase_data.entities[ 1 ]; // Recursive relationship with a single entity. const is_multi = !phrase_data.solution.find( value =&gt; value !== 'cn' &amp;&amp; value !== 'n' ); // N:M relationship with two or more entities. const is_hierarchy = !phrase_data.relation; // Specialization/Generalization // Define and determine all possible solutions for the current phrase. let solutions; if ( is_hierarchy ) if ( phrase_data.entities.length &lt; 4 ) // Specialization/Generalization with 3 entities (2 sub entities) solutions = [ [ null, [ 0, 6, 0, 0 ], [ 0, 1066, 6, 0 ], [ 0, 1066, 0, 6 ] ], // E1[PK] E2[PK,AK+FK1] E3[PK,AK+FK1] [ null, [ 0, 6, 0, 0 ], [ 0, 1062, 0, 0 ], [ 0, 1062, 0, 0 ] ] // E1[PK] E2[PK+FK1] E3[PK+FK1] ]; else // Specialization/Generalization with 4 entities (3 sub entities) solutions = [ [ null, [ 0, 6, 0, 0, 0 ], [ 0, 1066, 6, 0, 0 ], [ 0, 1066, 0, 6, 0 ], [ 0, 1066, 0, 0, 6 ] ], // E1[PK] E2[PK,AK+FK1] E3[PK,AK+FK1] E4[PK,AK+FK1] [ null, [ 0, 6, 0, 0, 0 ], [ 0, 1062, 0, 0, 0 ], [ 0, 1062, 0, 0, 0 ], [ 0, 1062, 0, 0, 0 ] ] // E1[PK] E2[PK+FK1] E3[PK+FK1] E4[PK+FK1] ]; else if ( is_multi ) { if ( phrase_data.entities.length === 2 ) // N:M relationship with 2 entities if ( is_recursive ) solutions = [ [ [ 0, 1062, 70 ], [ 0, 6, 0 ], null ], // R[PK+FK1,PK+FK2] E1[PK] [ [ 6, 1066, 74 ], [ 0, 6, 0 ], null ] // R[PK,AK+FK1,AK+FK2] E1[PK] ]; else solutions = [ [ [ 0, 1062, 2118 ], [ 0, 6, 0 ], [ 0, 0, 6 ] ], // R[PK+FK1,PK+FK2] E1[PK] E2[PK] [ [ 6, 1066, 2122 ], [ 0, 6, 0 ], [ 0, 0, 6 ] ] // R[PK,AK+FK1,AK+FK2] E1[PK] E2[PK] ]; if ( phrase_data.entities.length === 3 ) // N:M relationship with 3 entities solutions = [ [ [ 0, 1062, 2118, 4230 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 0, 0, 0, 6 ] ], // R[PK+FK1,PK+FK2,PK+FK3] E1[PK] E2[PK] E3[PK] [ [ 6, 1066, 2122, 4234 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 0, 0, 0, 6 ] ] // R[PK,AK+FK1,AK+FK2,AK+FK3] E1[PK] E2[PK] E3[PK] ]; if ( phrase_data.entities.length === 4 ) // N:M relationship with 4 entities solutions = [ [ [ 0, 1062, 2118, 4230, 8454 ], [ 0, 6, 0, 0, 0 ], [ 0, 0, 6, 0, 0 ], [ 0, 0, 0, 6, 0 ], [ 0, 0, 0, 0, 6 ] ], // R[PK+FK1,PK+FK2,PK+FK3,PK+FK4] E1[PK] E2[PK] E3[PK] E4[PK] [ [ 6, 1066, 2122, 4234, 8458 ], [ 0, 6, 0, 0, 0 ], [ 0, 0, 6, 0, 0 ], [ 0, 0, 0, 6, 0 ], [ 0, 0, 0, 0, 6 ] ] // R[PK,AK+FK1,AK+FK2,AK+FK3,AK+F4] E1[PK] E2[PK] E3[PK] E4[PK] ]; } else if ( is_binary ) { // Define the possible solutions for all combinations of cardinalities given a binary relationship, excluding N:M relationships. solutions = { '1': { '1': [ [ null, [ 0, 6, 2122 ], [ 0, 0, 6 ] ], // E1[PK,AK+FK2] E2[PK] [ null, [ 0, 0, 2118 ], [ 0, 0, 6 ] ], // E1[PK+FK2] E2[PK] [ null, [ 0, 6, 0 ], [ 0, 1066, 6 ] ], // E1[PK] E2[PK,AK+FK1] [ null, [ 0, 6, 0 ], [ 0, 1062, 0 ] ] // E1[PK] E2[PK+FK1] ], 'c': [ [ null, [ 0, 6, 2122 ], [ 0, 0, 6 ] ], // E1[PK,AK+FK2] E2[PK] [ null, [ 0, 0, 2118 ], [ 0, 0, 6 ] ] // E1[PK+FK2] E2[PK] ], 'cn': [ [ null, [ 0, 6, 2114 ], [ 0, 0, 6 ] ] // E1[PK,FK2] E2[PK] ], 'n': [ [ null, [ 0, 6, 2114 ], [ 0, 0, 6 ] ] // E1[PK,FK2] E2[PK] ] }, 'c': { '1': [ [ null, [ 0, 6, 0 ], [ 0, 1066, 6 ] ], // E1[PK] E2[PK,AK+FK1] [ null, [ 0, 6, 0 ], [ 0, 1062, 0 ] ] // E1[PK] E2[PK+FK1] ], 'c': [ [ null, [ 0, 6, 2121 ], [ 0, 0, 6 ] ], // E1[PK,AK+FK2+NULL] E2[PK] [ null, [ 0, 6, 0 ], [ 0, 1065, 6 ] ] // E1[PK] E2[PK,AK+FK1+NULL] ], 'cn': [ [ null, [ 0, 6, 2113 ], [ 0, 0, 6 ] ] // E1[PK,FK2+NULL] E2[PK] ], 'n': [ [ null, [ 0, 6, 2113 ], [ 0, 0, 6 ] ] // E1[PK,FK2+NULL] E2[PK] ] }, 'cn': { '1': [ [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] // E1[PK] E2[PK,F1] ], 'c': [ [ null, [ 0, 6, 0 ], [ 0, 1057, 6 ] ] // E1[PK] E2[PK,F1+NULL] ] }, 'n': { '1': [ [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] // E1[PK] E2[PK,FK1] ], 'c': [ [ null, [ 0, 6, 0 ], [ 0, 1057, 6 ] ] // E1[PK] E2[PK,FK1+NULL] ] } }; solutions = solutions[ phrase_data.solution[ 0 ] ][ phrase_data.solution[ 1 ] ]; // Select the solutions for the binary relationship to be modeled. is_recursive &amp;&amp; solutions.forEach( solution =&gt; solution[ 2 ] = null ); // In a recursive binary relationship, the second entity table in the solution must be removed. } else if ( phrase_data.solution.toString() === 'cn,n,1' || phrase_data.solution.toString() === 'n,n,1' ) // N:M:1 relationships. solutions = [ [ null, [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 0, 1058, 2114, 6 ] ], // E1[PK] E2[PK] E3[PK,FK1,FK2] [ [ 0, 1058, 2114, 6 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], null ], // R[FK1,FK2,PK] [ [ 0, 1062, 2118, 4234 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 0, 0, 0, 6 ] ], // R[PK+FK1,PK+FK2,AK+FK3] E1[PK] E2[PK] E3[PK] [ [ 0, 1062, 2118, 0 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 534, 0, 0, 0 ] ], // R[PK+FK1,PK+FK2] E1[PK] E2[PK] E3[PK+FK0] [ [ 0, 1062, 2118, 0 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 538, 0, 0, 6 ] ], // R[PK+FK1,PK+FK2] E1[PK] E2[PK] E3[PK,AK+FK0] [ [ 6, 1066, 2122, 0 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 538, 0, 0, 6 ] ], // R[PK,AK+FK1,PK,AK+FK2] E1[PK] E2[PK] E3[PK,AK+FK0] [ [ 6, 1066, 2122, 0 ], [ 0, 6, 0, 0 ], [ 0, 0, 6, 0 ], [ 534, 0, 0, 0 ] ] // R[PK,AK+FK1,PK,AK+FK2] E1[PK] E2[PK] E3[PK+FK0] ]; // A user's solution can only be submitted if a correct solution for control could be determined. if ( !solutions ) return; // Compare the determined possible solutions with the user's solution. const solution = solutions.find( solution =&gt; JSON.stringify( result_data.input ) === JSON.stringify( solution ) ); // Note in the phrase's status data whether the user's solution matches one of the possible solutions. result_data.correct = !!solution; // Note in the phrase status data whether a valid alternative solution was found. if ( result_data.correct &amp;&amp; solution !== solutions[ 0 ] ) result_data.alternate_solution = solution; // Note the main solution in the status data of the phrase, which the feedback will refer to. result_data.solution = solutions[ 0 ]; // Did the user find a valid solution? =&gt; Increase the number of correctly answered phrases in the app state data. result_data.correct &amp;&amp; data.correct++; // Does the user get automated feedback on their solution? if ( this.feedback ) { this.element.classList.add( result_data.correct ? 'correct' : 'failed' ); // Enable visual feedback in the webpage area. render(); // Refresh the webpage area. } this.onchange &amp;&amp; this.onchange( { event: 'submit', instance: this } ); // Trigger the 'change' event for submitting a solution. !this.feedback &amp;&amp; this.events.onNext(); // No automated feedback? =&gt; Switch to the next phrase. }, /** * When the button is clicked that allows the user to correct an incorrect solution. * @function * @memberOf AppEvents */ onCorrection: () =&gt; { const result_data = data.results[ data.results.length - 1 ]; // Get result data of current phrase if ( !this.correction || !result_data.solution ) return; // Check if the user is allowed to correct his solution. // Increment the counter for the number of corrections in the phrase state data. result_data.correction = result_data.correction ? result_data.correction + 1 : 1; delete result_data.correct; delete result_data.solution; // Remove the information about the correctness of the solution from the state data of the phrase. reset(); render(); // Remove the visual feedback in the webpage area. this.onchange &amp;&amp; this.onchange( { event: 'correction', instance: this } ); // Trigger the 'change' event because of the correction. }, /** * When the button showing the sample solution for the current phrase is clicked. * @function * @memberOf AppEvents */ onSolution: () =&gt; { if ( !this.show_solution || !data.results[ data.results.length - 1 ].solution ) return; // Check if the user is allowed to reveal the sample solution. render( true ); // Reveal the sample solution in the webpage area. this.onchange &amp;&amp; this.onchange( { event: 'solution', instance: this } ); // Trigger the 'change' event due to the reveal of the sample solution. }, /** * When the button that starts the next phrase is clicked. * @function * @memberOf AppEvents */ onNext: () =&gt; { // Check if the user is allowed to start the next phrase. if ( !data.results[ data.results.length - 1 ].solution &amp;&amp; !this.skip || data.results.length === this.number ) return; reset(); // Remove the visual feedback in the webpage area. nextPhrase(); // Switch to the next phrase. // Trigger the 'change' event due to the start of the next phrase. this.onchange &amp;&amp; this.onchange( { event: 'next', instance: this, phrase: data.results.length } ); }, /** * When the button that finishes the app is clicked. * @function * @memberOf AppEvents */ onFinish: () =&gt; { // Check if the user is allowed to finish the app. if ( !this.onfinish || !data.results[ data.results.length - 1 ].solution &amp;&amp; !this.skip || data.results.length &lt; this.number &amp;&amp; !this.anytime_finish ) return; reset(); // Remove the visual feedback in the webpage area. $.onFinish( this ); // Perform finish actions } }; /** * Starts the next phrase. * @private * @function */ const nextPhrase = () =&gt; { // Set initial state data for the new phrase. data.results.push( { input: Array( data.phrases[ data.results.length ].entities.length + 1 ).fill( null ), solution: null } ); // An n-ary relationship should not be displayed in a reverse-reading notation, since the semantics are different there. In this case, a forward-reading notation is used. if ( data.phrases[ data.results.length - 1 ].entities.length &gt; 2 &amp;&amp; this.notations[ data.notation ].swap ) // Check for an n-ary relationship displayed in a reverse-reading notation. data.notation = Object.values( this.notations ).find( notation =&gt; !notation.swap ).key; // =&gt; Switch to a forward-reading notation. // Display the new Phrase in the webpage area render(); }; /** * Updates the webpage area with the current app state data. * @private * @function * @param {boolean} [show_solution] - The correct solution should be revealed. */ const render = show_solution =&gt; { // Update main HTML template this.html.render( this.html.main( this, show_solution ), this.element ); // Multilingual app? =&gt; Translate content of webpage area. this.lang &amp;&amp; this.lang.translate(); }; /** * Removes the visual feedback in the webpage area. * @private * @function */ const reset = () =&gt; this.element.classList.remove( 'correct', 'failed' ); } }; let b=\"ccm.\"+component.name+(component.version?\"-\"+component.version.join(\".\"):\"\")+\".js\";if(window.ccm&amp;&amp;null===window.ccm.files[b])return window.ccm.files[b]=component;(b=window.ccm&amp;&amp;window.ccm.components[component.name])&amp;&amp;b.ccm&amp;&amp;(component.ccm=b.ccm);\"string\"===typeof component.ccm&amp;&amp;(component.ccm={url:component.ccm});let c=(component.ccm.url.match(/(0|[1-9]\\d*)\\.(0|[1-9]\\d*)\\.(0|[1-9]\\d*)/)||[\"\"])[0];if(window.ccm&amp;&amp;window.ccm[c])window.ccm[c].component(component);else{var a=document.createElement(\"script\");document.head.appendChild(a);component.ccm.integrity&amp;&amp;a.setAttribute(\"integrity\",component.ccm.integrity);component.ccm.crossorigin&amp;&amp;a.setAttribute(\"crossorigin\",component.ccm.crossorigin);a.onload=function(){(c=\"latest\"?window.ccm:window.ccm[c]).component(component);document.head.removeChild(a)};a.src=component.ccm.url} } )(); /** * App configuration. * @typedef {object} app_config * @prop {boolean} [anytime_finish] - Finish button is always unlocked. You no longer have to go through all the phrases to use it. * @prop {boolean} [auto_arrows] - The arrows between tables are automatically set correctly and haven't to be selected manually. * @prop {boolean} [auto_pk] - When creating a table, an artificial primary key is created automatically. * @prop {object} [comments] - Show comments to support the user. * @prop {boolean} [comments.input] - Show comments during input (hints like \"start creating tables\" or \"start to connect tables\"). * @prop {boolean} [comments.wrong] - Show comments as feedback on an incorrect solution. * @prop {boolean} [comments.correct] - Show comments as feedback on a correct solution. * @prop {boolean} [correction] - Allows the user to correct an incorrect solution. * @prop {array} css - CSS dependencies. * @prop {object} [data] - Source of app state data. * @prop {object} [default] - Default notations data. * @prop {boolean} [feedback] - Show visual feedback and any comments after submitting a solution. * @prop {boolean} [fixed_notation] - The notation used in the ER diagram cannot be changed. * @prop {array} helper - Dependency on helper functions. * @prop {boolean} [hide_own_fk] - No foreign key is offered for the table's own main attribute. * @prop {array} html - HTML template dependencies. * @prop {array} [lang] - Dependency on component for multilingualism. * @prop {boolean} [legend] - Button to display a legend for the different notations in the ER diagram. * @prop {object} modal - Dependencies on component instances for modal dialogs. * @prop {array} modal.attr - Modal dialog for editing attributes of a table. * @prop {array} [modal.legend] - Modal dialog to display a legend for the different notations in the ER diagram. * @prop {Object.&lt;string,notation_data&gt;} notations - Data of the different notations in the ER diagram. * @prop {number} [number] - Number of phrases to be asked. By default, all phrases are asked. * @prop {function} [onchange] - When something changes in the app (notation change, show legend, submit, correction, show solution, next phrase). * @prop {function|object} [onfinish] - When the finish button is clicked. Sets the finish actions. * @prop {function} [onready] - Is called once before the first start of the app. * @prop {function} [onstart] - When the app has finished starting. * @prop {object} phrases - Data of the phrases. * @prop {boolean} [show_solution] - If the user solves the phrase incorrectly, he can reveal a correct solution. After that, the user can no longer correct his input. * @prop {boolean} [shuffle] - The phrases are shuffled, so the order in which the phrases are asked is different each time the app is started. * @prop {boolean} [skip] - Phrases can be skipped, so that not all phrases have to be answered. * @prop {boolean} text - Contains the static texts (e.g. task description, labeling of buttons, hints on feedback). * @prop {boolean} [user] - Dependency on component for user authentication. */ /** * App state data. * @typedef {object} app_state * @prop {number} correct - Number of correctly answered phrases. * @prop {string} notation - Current selected notation (e.g. 'abrial', 'arrow', 'chen', 'crow', 'mc', 'uml'). * @prop {phrase_data[]} phrases - Phrases used in the order they are queried. * @prop {result_data[]} results - Result data of the phrases processed so far. * @example * { * \"correct\": 1, * \"notation\": \"abrial\", * \"phrases\": [ * { * \"text\": \"Eine Bibliothek m√∂chte die einzelnen Seiten ausgew√§hlter B√ºcher digitalisieren.\", * \"entities\": [ \"Buch\", \"Seite\" ], * \"relation\": \"hat\", * \"solution\": [ \"n\", \"1\" ] * }, * ... * ] * \"results\": [ * { * \"input\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ], * \"correct\": true, * \"solution\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] * }, * ... * ] * } */ /** * Notation data. * @typedef {object} notation_data * @prop {string} key - Unique key of the notation (e.g. 'abrial', 'arrow', 'chen', 'crow', 'mc', 'uml') * @prop {string} title - Title of the notation (used for the selection of the notation). * @prop {boolean} [swap] - Notation has a reverse reading order than Abrial notation. * @prop {boolean} [centered] - The relational verb is centered vertically in the diagram and not slightly higher above a connecting line. * @prop {boolean} [mirrored] - The notation is mirrored on the left side. * @prop {string} [comment] - Note that informs about special aspects of a notation. * @prop {string[]} images - Image URLs or filenames of the images without a file extension. * @prop {string} [format] - File extension of the image files (when using only filenames). * @prop {string} [path] - Image URLs without filename and file extension (when using only filenames). * @example * { * \"key\": \"arial\", * \"title\": \"Abrial\", * \"centered\": true, * \"images\": [ * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/e.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/1.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/c.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/n.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/cn.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/r.svg\", * \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/s.svg\" * ] * } * @example * { * \"key\": \"arial\", * \"title\": \"Abrial\", * \"centered\": true, * \"format\": \"svg\", * \"images\": [ \"e\", \"1\", \"c\", \"n\", \"cn\", \"r\", \"s\" ], * \"path\": \"https://ccmjs.github.io/eild/er_trainer/resources/img/\" * } */ /** * Phrase data. * @typedef {object} phrase_data * @prop {string} text - Text of the phrase. * @prop {string[]} entities - Names of the entities. * @prop {string[]} [roles] - Role names of the entities (useful in recursive relationships). * @prop {string} [relation] - Name of the relation between the entities (default: has relation of a generalization/specialization). * @prop {string[]} solution - Solution of the phrase ('1': simple, 'c': conditional, 'n': multiple, 'cn': conditional multiple). * @example * { * \"text\": \"Eine Bibliothek m√∂chte die einzelnen Seiten ausgew√§hlter B√ºcher digitalisieren.\", * \"entities\": [ \"Buch\", \"Seite\" ], * \"relation\": \"hat\", * \"solution\": [ \"n\", \"1\" ] * } */ /** * Result data of a phrase. * @typedef {object} result_data * @prop {table_data[]} input - Input data of the tables. * @prop {boolean} [correct] - Phrase answered correctly. * @prop {table_data[]} solution - Solution data of the tables (main solution). * @prop {table_data[]} [alternate_solution] - Alternate solution found. * @example * { * \"correct\": true, * \"input\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ], * \"solution\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] * } */ /** * Table data.&lt;br&gt; * null: not created&lt;br&gt; * [0]: ID attribute of relation table&lt;br&gt; * [1]: ID attribute of entity 1&lt;br&gt; * [2]: ID attribute of entity 2&lt;br&gt; * [3]: ID attribute of entity 3&lt;br&gt; * [4]: ID attribute of entity 4 * @typedef {attr_value[]} table_data * @example * [ 0, 1058, 6 ] */ /** * Bit mask of a table attribute.&lt;br&gt; * 0: not set&lt;br&gt; * 2^0=1: is optional (NULL)&lt;br&gt; * 2^1=2: is mandatory (NOT NULL)&lt;br&gt; * 2^2=4: is part of primary key (PK)&lt;br&gt; * 2^3=8: is part of alternate key (AK)&lt;br&gt; * 2^4=16: is part of foreign key to relation table (FK0)&lt;br&gt; * 2^5=32: is part of foreign key to entity 1 (FK1)&lt;br&gt; * 2^6=64: is part of foreign key to entity 2 (FK2)&lt;br&gt; * 2^7=128: is part of foreign key to entity 3 (FK3)&lt;br&gt; * 2^8=256: is part of foreign key to entity 4 (FK4)&lt;br&gt; * 2^9=512: arrow for FK0 is set&lt;br&gt; * 2^10=1024: arrow for FK1 is set&lt;br&gt; * 2^11=2048: arrow for FK2 is set&lt;br&gt; * 2^12=4096: arrow for FK3 is set&lt;br&gt; * 2^13=8192: arrow for FK4 is set * @typedef {number} attr_value * @example * 1058 // = 1024 + 32 + 2 * // =&gt; Foreign key to entity 1 (FK1) with set arrow and NOT NULL. */ /** * Number of an entity (1-N: entity 1-N). * @typedef {number} entity_nr */ /** * Number of a relation scheme table (0: extra table, 1-N: entity table 1-N). * @typedef {number} table_nr */ √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"configs.js.html":{"id":"configs.js.html","title":"Source: configs.js","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Source: configs.js /** * @overview App configuration of &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @author Andr√© Kless &lt;andre.kless@web.de&gt; 2022 * @license The MIT License (MIT) */ /** * Used app configuration of &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @module AppConfig */ /** * Basic configurations. * @type {app_config} */ export const config = { \"anytime_finish\": true, // Ein Neustart ist jederzeit und nicht erst am Ende m√∂glich (\"Neustart\"-Button immer verf√ºgbar). \"auto_arrows\": false, // Die Pfeile zwischen Tabellen werden automatisch gesetzt. \"auto_pk\": false, // Neu angelegte Tabellen haben direkt einen k√ºnstlichen Prim√§rschl√ºssel. \"css.1.1\": \"./resources/styles.css\", // Layout \"feedback\": true, // Automatisches Feedback \"fixed_notation\": false, // Es kann zwischen den Notationen umgeschaltet werden. \"hide_own_fk\": false, // Das Hauptattribut einer Tabelle kann nicht als Fremdschl√ºssel markiert werden. \"legend\": true, // Legende mit einer √úbersicht aller ER-Diagramm-Notationen. \"number\": undefined, // Anzahl der Phrasen, die abgefragt werden (standardm√§√üig werden alle Phrasen abgefragt). \"retry\": true, // Eine falsch beantwortete Phrase kann nachtr√§glich korrigiert werden (\"Korrigieren\"-Button). \"show_solution\": true, // F√ºr eine falsch beantwortete Phrase kann eine Musterl√∂sung aufgedeckt werden (\"Zeige L√∂sung\"-Button). \"shuffle\": true, // Phrasen mischen, sodass sie nicht immer in der gleichen Reihenfolge abgefragt werden. \"skip\": true, // Eine Phrase kann √ºbersprungen werden (\"√úberspringen\"-Button). // Die Ergebnisse werden offline-f√§hig lokal gespeichert und man kann dort weitermachen, wo man das letzte Mal aufgeh√∂rt hat. \"data\": { \"store\": [ \"ccm.store\", { \"name\": \"eild\" } ], \"key\": \"er_rel_trainer\" }, \"onchange\": async event =&gt; { if ( event.event !== 'next' ) return; const results = event.instance.getValue(); results.results.pop(); event.instance.helper.onFinish( { store: { settings: { name: 'eild' }, key: 'er_rel_trainer' } }, results ); }, \"onfinish\": { \"callback\": async ( results, instance ) =&gt; { await instance.data.store.del( instance.data.key ); instance.start(); } } }; /** * Phrases data. * @type {phrase_data[]} */ export const phrases = [ { \"text\": \"Im Krankenhaus gibt es zu jedem Patienten eine Patientenakte.\", \"entities\": [ \"Patient\", \"Patientenakte\" ], \"relation\": \"hat\", \"solution\": [ \"1\", \"1\" ], \"comments\": [ \"Zu jedem Patienten gibt es genau eine Patientenakte.\", \"Zu jeder Patientenakte gibt es genau einen Patienten.\" ] }, { \"text\": \"Im Chemielabor werden die Atomkerne von Atomen untersucht.\", \"entities\": [ \"Atom\", \"Atomkern\" ], \"relation\": \"hat\", \"solution\": [ \"1\", \"1\" ], \"comments\": [ \"Jedes Atom hat genau einen Atomkern.\", \"Jeder Atomkern geh√∂rt zu genau einem Atom.\" ] }, { \"text\": \"Auf einer Konferenz sollen die Teilnehmer die M√∂glichkeit haben beim Einlass ein Namensschild zu bekommen.\", \"entities\": [ \"Namensschild\", \"Teilnehmer\" ], \"relation\": \"geh√∂rt zu\", \"solution\": [ \"1\", \"c\" ], \"comments\": [ \"Jedes Namensschild geh√∂rt zu genau einem Teilnehmer.\", \"Ein Teilnehmer hat ein oder kein Namensschild.\" ] }, { \"text\": \"Bei einer Verkehrssimulation soll ein Fahrzeug auch einen Anh√§nger haben k√∂nnen.\", \"entities\": [ \"Anh√§nger\", \"Fahrzeug\" ], \"relation\": \"geh√∂rt zu\", \"solution\": [ \"1\", \"c\" ], \"comments\": [ \"Ein Anh√§nger geh√∂rt zu genau einem Fahrzeug.\", \"Ein Fahrzeug hat einen oder keinen Anh√§nger.\" ] }, { \"text\": \"F√ºr eine Stadtverwaltung soll es m√∂glich sein auch eventuelle Bahnh√∂fe einer Stadt zu erfassen.\", \"entities\": [ \"Bahnhof\", \"Stadt\" ], \"relation\": \"geh√∂rt zu\", \"solution\": [ \"1\", \"cn\" ], \"comments\": [ \"Ein Bahnhof geh√∂rt zu genau einer Stadt.\", \"Eine Stadt hat keinen, einen oder mehrere Bahnh√∂fe.\" ] }, { \"text\": \"Ein Hausbesitzer m√∂chte erfassen, wer gerade in seinen beiden H√§usern wohnt.\", \"entities\": [ \"Bewohner\", \"Haus\" ], \"relation\": \"wohnt in\", \"solution\": [ \"1\", \"cn\" ], \"comments\": [ \"Ein Bewohner wohnt in genau einem Haus.\", \"Ein Haus hat keinen, einen oder mehrere Bewohner.\" ] }, { \"text\": \"Das Vereinswesen in Deutschland m√∂chte eine Liste aller Vereine verwalten. Zu jedem Verein soll auch eine Kontaktperson eingetragen sein, wobei manche Vereine die gleiche Kontaktperson angeben.\", \"entities\": [ \"Verein\", \"Kontaktperson\" ], \"relation\": \"hat\", \"solution\": [ \"1\", \"n\" ], \"comments\": [ \"Ein Verein hat genau eine Kontaktperson.\", \"Eine eingetragene Kontaktperson geh√∂rt zu mindestens einem Verein.\" ] }, { \"text\": \"Ein Radiosender f√ºr klassische Musik m√∂chte eine Datensammlung von Musikst√ºcken aufbauen, wobei f√ºr jedes Musikst√ºck auch Hintergrundinformationen zum Komponisten abrufbar sein sollen.\", \"entities\": [ \"Musikst√ºck\", \"Komponist\" ], \"relation\": \"hat\", \"solution\": [ \"1\", \"n\" ], \"comments\": [ \"Ein Musikst√ºck hat genau einen Komponisten.\", \"Zu jedem Komponisten in der Datensammlung gibt es mindestens ein Musikst√ºck.\" ] }, { \"text\": \"Eine Mensa m√∂chte ihren Bestand an T√∂pfen (inkl. Pfannen) nachhalten, um schneller festzustellen, ob etwas fehlt und nachgekauft werden muss. Die Deckel sollen separat erfasst werden, da diese auch einzeln nachbestellbar sind. Zu jedem Topf gibt es einen Deckel, es gibt allerdings auch T√∂pfe ohne Deckel (z.B. Wok).\", \"entities\": [ \"Topf\", \"Deckel\" ], \"relation\": \"hat\", \"solution\": [ \"c\", \"1\" ], \"comments\": [ \"Ein Topf hat einen oder keinen Deckel.\", \"Ein Deckel geh√∂rt zu genau einem Topf.\" ] }, { \"text\": \"Bei der Bauplanung eines Mehrfamilienhauses soll f√ºr einen entsprechenden Aufpreis auch ein Fahrstuhl m√∂glich sein.\", \"entities\": [ \"Haus\", \"Aufzug\" ], \"relation\": \"hat\", \"solution\": [ \"c\", \"1\" ], \"comments\": [ \"Ein Haus hat einen oder keinen Aufzug.\", \"Ein Aufzug geh√∂rt zu genau einem Haus.\" ] }, { \"text\": \"Bei der Genforschung werden Chromosome und deren spezifische Merkmale untersucht, wobei sich w√§hrend der Studie ein X-Chromosom mit einem X- oder Y-Chromosom verbinden kann und ein Y-Chromosom nur mit einem X-Chromosom.\", \"entities\": [ \"X-Chromosom\", \"Y-Chromosom\" ], \"relation\": \"verbunden\", \"solution\": [ \"c\", \"c\" ], \"comments\": [ \"Ein X-Chromosom ist mit einem oder keinem Y-Chromosom verbunden.\", \"Ein Y-Chromosom ist mit einem oder keinem X-Chromosom verbunden.\" ] }, { \"text\": \"F√ºr eine Fortpflanzungsstudie soll verwaltet werden, ob und wenn ja mit welchem M√§nnchen ein Weibchen aktuell zusammen ist. M√§nnchen und Weibchen der untersuchten Tierart haben nie mehrere Partner gleichzeitig.\", \"entities\": [ \"Weibchen\", \"M√§nnchen\" ], \"relation\": \"ist zusammen mit\", \"solution\": [ \"c\", \"c\" ], \"comments\": [ \"Ein Weibchen ist entweder mit einem oder keinem M√§nnchen zusammen sein.\", \"Ein M√§nnchen ist entweder mit einem oder keinem Weibchen zusammen sein.\" ] }, { \"text\": \"Bei einem Winzer geh√∂rt eine Weinflasche zu einer Weinsorte oder ist selbstgebraut.\", \"entities\": [ \"Weinflasche\", \"Weinsorte\" ], \"relation\": \"geh√∂rt zu\", \"solution\": [ \"c\", \"cn\" ], \"comments\": [ \"Eine Weinflasche geh√∂rt zu genau einer oder keiner Weinsorte.\", \"Von einer Weinsorte hat ein Winzer entweder keine, eine oder mehrere Weinflaschen.\" ] }, { \"text\": \"Bei der Insektenforschung soll festgehalten werden, ob die Insekten im Labor Fl√ºgel haben oder nicht.\", \"entities\": [ \"Insekt\", \"Fl√ºgel\" ], \"relation\": \"hat\", \"solution\": [ \"c\", \"cn\" ], \"comments\": [ \"Ein Insekt hat entweder Fl√ºgel oder keine Fl√ºgel.\", \"Im Labor gibt es kein, ein oder mehrere Insekten mit Fl√ºgeln.\" ] }, { \"text\": \"Der deutsche Staat m√∂chte transparent machen, welcher B√ºrger welcher Partei angeh√∂rt.\", \"entities\": [ \"B√ºrger\", \"Partei\" ], \"relation\": \"ist Mitglied in\", \"solution\": [ \"c\", \"n\" ], \"comments\": [ \"Ein B√ºrger kann nur Mitglied in maximal einer Partei gleichzeitig sein.\", \"Eine Partei hat eine Mindestzahl an Mitgliedern.\" ] }, { \"text\": \"Bei einer Tierbeobachtung soll erfasst werden, welche der Tiere sich zu einer Herde zusammenschlie√üen.\", \"entities\": [ \"Tier\", \"Herde\" ], \"relation\": \"geh√∂rt zu\", \"solution\": [ \"c\", \"n\" ], \"comments\": [ \"Ein Tier geh√∂rt entweder zu einer oder keiner Herde.\", \"Eine Herde besteht aus mindestens einem Tier.\" ] }, { \"text\": \"Bei einer Weltraumsimulation kann ein Planet Monde haben, die ihn umkreisen.\", \"entities\": [ \"Planet\", \"Mond\" ], \"relation\": \"hat\", \"solution\": [ \"cn\", \"1\" ], \"comments\": [ \"Ein Planet hat keinen, einen oder mehrere Monde.\", \"Ein Mond geh√∂rt immer zu genau einem Planeten.\" ] }, { \"text\": \"Der √∂ffentliche Dienst m√∂chte seine aktuell an Firmen vergebenen Auftr√§ge verwalten.\", \"entities\": [ \"Firma\", \"Auftrag\" ], \"relation\": \"hat\", \"solution\": [ \"cn\", \"1\" ], \"comments\": [ \"Eine Firma hat aktuell keinen, einen oder mehrere Auftr√§ge.\", \"Ein vergebener Auftrag geh√∂rt zu genau einer Firma.\" ] }, { \"text\": \"In einem Point-and-Click-Adventure soll die Spielfigur ein Inventar f√ºr gesammelte Gegenst√§nde haben.\", \"entities\": [ \"Inventar\", \"Gegenstand\" ], \"relation\": \"enth√§lt\", \"solution\": [ \"cn\", \"c\" ], \"comments\": [ \"Im Inventar sind kein, ein oder mehrere Gegenst√§nde enthalten.\", \"Ein Gegenstand ist im Inventar entweder enthalten oder nicht.\" ] }, { \"text\": \"In einem Projektmanagement-Tool sollen Aufgaben einem Mitarbeiter hauptverantwortlich zugewiesen werden k√∂nnen.\", \"entities\": [ \"Mitarbeiter\", \"Aufgabe\" ], \"relation\": \"ist zust√§ndig f√ºr\", \"solution\": [ \"cn\", \"c\" ], \"comments\": [ \"Ein Mitarbeiter ist zust√§ndig f√ºr keine, eine, oder mehrere Aufgaben.\", \"Eine Aufgabe kann maximal einem Mitarbeiter hauptverantwortlich zugewiesen sein.\" ] }, { \"text\": \"Bei einem Onlineh√§ndler sollen Kunden Produkte bestellen und sich vorab schon Registrieren k√∂nnen.\", \"entities\": [ \"Kunde\", \"Produkt\" ], \"relation\": \"bestellt\", \"solution\": [ \"cn\", \"cn\" ], \"comments\": [ \"Ein Kunde hat kein, ein oder mehrere Produkte bestellt.\", \"Ein Produkt wurde von keinem, einem oder mehreren Kunden bestellt.\" ] }, { \"text\": \"Im neuen Gesundheitszentrum soll am Ende jedes Kurses jeder Teilnehmer eine vorab vorbereitete Teilnahmebescheinigung erhalten.\", \"entities\": [ \"Teilnehmer\", \"Bescheinigung\" ], \"relation\": \"erhalten\", \"solution\": [ \"cn\", \"cn\" ], \"comments\": [ \"Ein Teilnehmer hat keine, eine oder mehrere Teilnahmebescheinigungen erhalten.\", \"Eine Bescheinigung wurde entweder noch gar nicht, einmal oder mehrmals an Teilnehmer ausgestellt.\" ] }, { \"text\": \"In einem Sprachenzentrum soll gespeichert werden, welche der zu unterrichtenden Sprachen von welchen Dozenten gesprochen werden. Jeder Dozent beherrscht mindestens eine der Sprachen, zeitweise kann es aber passieren, dass es zu einer Sprachen keinen Dozenten gibt.\", \"entities\": [ \"Sprache\", \"Dozent\" ], \"relation\": \"gesprochen von\", \"solution\": [ \"cn\", \"n\" ], \"comments\": [ \"Eine Sprache wird von keinem, einem oder mehreren Dozenten gesprochen.\", \"Ein Dozent beherrscht mindestens eine der zu unterrichtenden Sprachen.\" ] }, { \"text\": \"Beim Einwohnermeldeamt muss jeder B√ºrger seinen Wohnsitz anmelden. Obdachlose werden als 'ohne festen Wohnsitz' gef√ºhrt und es k√∂nnen neben dem Hauptwohnsitz auch weitere Nebenwohnsitze gemeldet werden.\", \"entities\": [ \"B√ºrger\", \"Wohnsitz\" ], \"relation\": \"meldet an\", \"solution\": [ \"cn\", \"n\" ], \"comments\": [ \"Ein B√ºrger hat keinen, einen oder mehrere Wohnsitze.\", \"Zu einem gemeldeten Wohnsitz gibt es mindestens einen B√ºrger, der dort wohnhaft ist.\" ] }, { \"text\": \"Eine Bibliothek m√∂chte die einzelnen Seiten ausgew√§hlter B√ºcher digitalisieren.\", \"entities\": [ \"Buch\", \"Seite\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"1\" ], \"comments\": [ \"Ein Buch hat mehrere Seiten.\", \"Eine Seite geh√∂rt zu genau einem Buch.\" ] }, { \"text\": \"Ein Architekt m√∂chte wichtige Eckdaten zu den einzelnen individuellen R√§umen seiner Geb√§ude verwalten.\", \"entities\": [ \"Geb√§ude\", \"Raum\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"1\" ], \"comments\": [ \"Ein Geb√§ude hat mindestens einen Raum.\", \"Ein Raum geh√∂rt zu genau einem Geb√§ude.\" ] }, { \"text\": \"F√ºr ein Forschungsprojekt sollen in einem Landkreis alle B√§ume und W√§lder erfasst werden.\", \"entities\": [ \"Wald\", \"Baum\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"c\" ], \"comments\": [ \"Ein Wald besteht aus mehreren B√§umen.\", \"Ein Baum muss nicht zwingend zu einem Wald geh√∂ren und geh√∂rt wenn dann immer nur zu genau einem Wald.\" ] }, { \"text\": \"Die Deutsche Post m√∂chte bei der teilautomatisierten Briefverarbeitung den Absender eines Briefs erfassen.\", \"entities\": [ \"Absender\", \"Brief\" ], \"relation\": \"notiert auf\", \"solution\": [ \"n\", \"c\" ], \"comments\": [ \"Ein erfasster Absender ist auf mindestens einem Brief notiert gewesen.\", \"Ein Brief enth√§lt entweder einen oder keinen Absender.\" ] }, { \"text\": \"F√ºr ein Restaurant sollen die aktuell verwendeten Rezepte und die vorhandenen Zutaten verwaltet werden.\", \"entities\": [ \"Rezept\", \"Zutat\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"cn\" ], \"comments\": [ \"Ein Rezept hat immer mehrere Zutaten.\", \"Eine vorhandene Zutat wird in keinem, einem oder mehreren Rezepten verwendet.\" ] }, { \"text\": \"In einem App Store gibt es die Anforderung, dass f√ºr jede App mindestens eine von mehreren vordefinierten Kategorien angegeben werden muss.\", \"entities\": [ \"App\", \"Kategorie\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"cn\" ], \"comments\": [ \"F√ºr eine App muss mindestens eine Kategorie angegeben werden.\", \"Eine vordefinierte Kategorie wurde f√ºr keine, eine oder bereits f√ºr mehrere Apps angegeben.\" ] }, { \"text\": \"Ein Immobilienmakler m√∂chte f√ºr seine verkauften H√§user die Kontaktdaten zu den neuen Eigent√ºmern festhalten.\", \"entities\": [ \"Haus\", \"Eigent√ºmer\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"n\" ], \"comments\": [ \"Ein Haus hat mindestens einen Eigent√ºmer.\", \"Ein Eigent√ºmer hat mindestens ein Haus.\" ] }, { \"text\": \"Im Rahmen eines chemischen Experiments sollen ausgew√§hlte Atome, ihre Elektronen und deren Bindungsf√§higkeit untersucht werden.\", \"entities\": [ \"Atom\", \"Elektron\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"n\" ], \"comments\": [ \"Ein Atom hat mindestens ein Elektron.\", \"Ein Elektron geh√∂rt zu einem oder mehreren Atomen (Elektronenpaarbindung).\" ] }, { \"text\": \"Beim Standesamt wird verwaltet, welche Personen gerade miteinander verheiratet sind.\", \"entities\": [ \"Person\", \"Person\" ], \"relation\": \"verheiratet\", \"solution\": [ \"c\", \"c\" ], \"comments\": [ \"Eine Person kann h√∂chstens mit einer anderen Person verheiratet sein.\", \"Eine Person kann h√∂chstens mit einer anderen Person verheiratet sein.\", ] }, { \"text\": \"F√ºr die Darstellung von Dateiordnern soll verwaltet werden, welcher Ordner welche anderen Ordner enth√§lt.\", \"entities\": [ \"Ordner\", \"Ordner\" ], \"roles\": [ \"Ordner\", \"Oberordner\" ], \"relation\": \"enth√§lt\", \"solution\": [ \"c\", \"cn\" ], \"comments\": [ \"Ein Ordner hat entweder keinen oder genau einen Oberordner.\", \"Ein Oberordner enth√§lt keinen, einen oder mehrere Unterordner.\" ] }, { \"text\": \"F√ºr ein Unternehmen sollen die Mitarbeiter verwaltet werden, wobei jeder Mitarbeiter genau einen Vorgesetzten und jeder Vorgesetzte mindestens einen Mitarbeiter haben soll.\", \"entities\": [ \"Mitarbeiter\", \"Mitarbeiter\" ], \"roles\": [ \"\", \"Vorgesetzter\" ], \"relation\": \"hat Vorgesetzten\", \"solution\": [ \"1\", \"n\" ], \"comments\": [ \"Ein Mitarbeiter hat immer genau einen Vorgesetzten.\", \"Ein Vorgesetzter hat mindestens einen Mitarbeiter.\" ] }, { \"text\": \"F√ºr die Erstellung eines Verkehrsplans muss verwaltet werden, welche Haltestellen miteinander verbunden sind. Durch Bauarbeiten und Umleitungen kann es zeitweise vorkommen, dass eine Haltestelle nicht angefahren wird.\", \"entities\": [ \"Haltestelle\", \"Haltestelle\" ], \"relation\": \"verbunden\", \"solution\": [ \"cn\", \"cn\" ], \"comments\": [ \"Eine Haltestelle ist mit keiner, einer oder mehreren anderen Haltestelle verbunden.\", \"Eine Haltestelle ist mit keiner, einer oder mehreren anderen Haltestelle verbunden.\" ] }, { \"text\": \"In einer neuen Hochschule sollen Studenten Lehrveranstaltungen besuchen und am Ende des Semesters von einem Professor gepr√ºft werden.\", \"entities\": [ \"Student\", \"Professor\", \"Lehrveranstaltung\" ], \"relation\": \"wird gepr√ºft\", \"solution\": [ \"cn\", \"cn\", \"cn\" ], \"comments\": [ \"Ein Student wurde entweder noch gar nicht, einmal oder bereits mehrmals gepr√ºft.\", \"Ein Professor hat entweder noch gar nicht, einmal oder bereits mehrmals gepr√ºft.\", \"In einer Lehrveranstaltung wurde noch gar nicht, einmal oder bereits mehrmals gepr√ºft.\" ] }, { \"text\": \"Eine Fluggesellschaft m√∂chte protokollieren, welche Piloten mit welchen Flugzeugen auf welchen Flugrouten eingesetzt werden. Bisher wurden im System nur Piloten und Flugzeuge verwaltet, f√ºr das Protokoll nun auch Flugrouten.\", \"entities\": [ \"Pilot\", \"Flugzeug\", \"Flugroute\" ], \"relation\": \"eingesetzt\", \"solution\": [ \"cn\", \"cn\", \"n\" ], \"comments\": [ \"Ein Pilot wurde bisher gar nicht, einmal oder mehrmals mit einem Flugzeug auf einer Flugroute eingesetzt.\", \"Ein Flugzeug wurde bisher gar nicht, einmal oder mehrmals von einem Piloten auf einer Flugroute eingesetzt.\", \"Eine in der Datenbank vorhandene Flugroute wurde mindestens einmal von einem Piloten mit einem Flugzeug bedient.\" ] }, { \"text\": \"Ein Team von Programmierern m√∂chte den Quelltext ihrer Programme versionieren, so dass bei jedem Speichern von √Ñnderungen automatisch eine neue Version vom Quelltext separat gespeichert wird.\", \"entities\": [ \"Programmierer\", \"Quelltext\", \"Version\" ], \"relation\": \"speichert\", \"solution\": [ \"cn\", \"n\", \"1\" ], \"comments\": [ \"Ein Programmierer hat noch keine, eine oder bereits mehrere Versionen eines Quelltexts gespeichert.\", \"Zu einem gespeicherten Quelltext gibt es mindestens eine Version und mindestens einen Programmierer.\", \"Zu einer Version gibt es genau einen zugeh√∂rigen Quelltext und genau einen zugeh√∂rigen Programmierer.\" ] }, { \"text\": \"Eine Adoptionsstelle m√∂chte f√ºr jedes Kind nachhalten, wer die biologische Mutter und werd der biologische Vater ist.\", \"entities\": [ \"Vater\", \"Mutter\", \"Kind\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"n\", \"1\" ], \"comments\": [ \"Zu einem Vater gibt es eine oder mehrere M√ºtter und mindestens ein Kind.\", \"Zu einer Mutter gibt es einen oder mehrere V√§ter und mindestens ein Kind.\", \"Ein Kind hat genau eine Mutter und genau einen Vater.\" ] }, { \"text\": \"Ein Gericht m√∂chte die Gerichtsverhandlungen protokollieren, insbesondere wer bei einer Gerichtsverhandlung Angeklagter, Richter, Staatsanwalt und Verteidiger ist. Im System werden auch Richter und Staatsanw√§lte und Verteidiger verwaltet, die noch an keiner Gerichtsverhandlung teilgenommen haben.\", \"entities\": [ \"Angeklagter\", \"Richter\", \"Staatsanwalt\", \"Verteidiger\" ], \"relation\": \"beteiligt\", \"solution\": [ \"n\", \"cn\", \"cn\", \"cn\" ], \"comments\": [ \"Ein Angeklagter hat an mindestens einer Gerichtsverhandlungen teilgenommen.\", \"Ein Richter hat an keine, eine oder mehrere Gerichtsverhandlungen geleitet.\", \"Ein Staatsanwalt war bisher an keiner, einer oder mehreren Gerichtsverhandlungen beteiligt.\", \"Ein Verteidiger war bisher an keiner, einer oder mehreren Gerichtsverhandlungen beteiligt.\" ] }, { \"text\": \"√úber eine eigens daf√ºr aufgesetzte Datenbank soll protokolliert werden, welche Veranstaltung an welcher Location mit welchen Teilnehmern mit welchen Sponsoren stattgefunden hat.\", \"entities\": [ \"Veranstaltung\", \"Location\", \"Teilnehmer\", \"Sponsor\" ], \"relation\": \"findet statt\", \"solution\": [ \"n\", \"n\", \"n\", \"n\" ], \"comments\": [ \"Eine in der Datenbank vorhandene Veranstaltung wurde mindestens einmal protokolliert.\", \"Eine in der Datenbank vorhandene Location wurde bisher gar nicht, einmal oder bereits mehrmals protokolliert.\", \"Ein in der Datenbank vorhandener Teilnehmer hat mindestens an einer Veranstaltung teilgenommen.\", \"Ein in der Datenbank vorhandener Sponsor hat sich an mindestens einer Veranstaltung beteiligt.\" ] }, { \"text\": \"Ein Tierheim verwaltet Haustiere, die ein neues Zuhause suchen. Es handelt sich dabei vor allem um Hunde und Katzen.\", \"entities\": [ \"Haustier\", \"Hund\", \"Katze\" ], \"solution\": [ \"p\", \"d\" ], \"comments\": [ \"Im Tierheim gibt es auch Haustiere, die weder Hund noch Katze sind.\", \"Es gibt keine Haustiere, die gleichzeitig Hund und Katze sind.\" ] }, { \"text\": \"Ein Versandhaus m√∂chte verschiedene Paketdienstleister f√ºr die Zustellung ihrer Waren beauftragen. Pakete sollen vor allem √ºber DHL, Hermes oder DPD versendet werden.\", \"entities\": [ \"Paketdienstleister\", \"DHL\", \"Hermes\", \"DPD\" ], \"solution\": [ \"p\", \"d\" ], \"comments\": [ \"Auftr√§ge k√∂nnen auch an andere Paketdienstleister vergeben werden (z.B. UPS).\", \"Ein Auftrag wird immer nur an einen Paketdienstleister vergeben.\" ] }, { \"text\": \"Verwaltet werden sollen die Besucher einer Gr√ºndermesse, auf der vor allem Unternehmensgr√ºnder und Sponsoren zusammenkommen.\", \"entities\": [ \"Besucher\", \"Gr√ºnder\", \"Sponsor\" ], \"solution\": [ \"p\", \"n\" ], \"comments\": [ \"Neben Gr√ºnder und Sponsoren k√∂nnen auch andere Personengruppen (z.B. Ideengeber) die Messe besuchen.\", \"Ein Gr√ºnder kann auch gleichzeitig ein Sponsor und ein Sponsor selbst auch ein Gr√ºnder sein.\" ] }, { \"text\": \"F√ºr eine Hundeshow sollen die teilnehmenden Hunde verwaltet werden. Zur Zeit sind vor allem Sch√§ferhund, Mops und Dackel im Trend. Mischlinge aus diesen Rassen werden nicht als separate Hunderasse im System verwaltet.\", \"entities\": [ \"Hund\", \"Sch√§ferhund\", \"Mops\", \"Dackel\" ], \"solution\": [ \"p\", \"n\" ], \"comments\": [ \"An der Hundeshow nehmen auch vereinzelt andere Hunderassen teil, die weder Sch√§ferhund, noch Mops oder Dackel sind.\", \"Neben den reinrassigen Hunden nehmen auch Mischlinge teil (z.B. ein Mops-Dackel-Mix). Ein Hund kann daher auch mehreren Hunderassen angeh√∂ren.\" ] }, { \"text\": \"Eine Adoptionsvermittlungsstelle m√∂chte die Kontaktdaten der (biologischen) Eltern verwalten. Dabei sollen auch Vater- und Mutter-spezifische Merkmale erfasst und deshalb explizit zwischen beiden unterschieden werden.\", \"entities\": [ \"Elternteil\", \"Mutter\", \"Vater\" ], \"solution\": [ \"t\", \"d\" ], \"comments\": [ \"Ein (biologischer) Elternteil ist entweder Mutter oder Vater.\", \"Ein Elternteil kann nicht gleichzeitig Vater und Mutter sein.\" ] }, { \"text\": \"Auf dem schnurlosen Haustelefon soll es im Adressbuch grunds√§tzlich drei Kategorien von Eintr√§gen mit spezifischen Merkmalen geben: Privat, Arbeit und Mobil. Jeder Eintrag muss einer dieser Kategorien zugeordnet werden.\", \"entities\": [ \"Adressbuch\", \"Privat\", \"Arbeit\", \"Mobil\" ], \"solution\": [ \"t\", \"d\" ], \"comments\": [ \"Jeder Adressbucheintrag muss einer der Kategorien zugeordnet werden.\", \"Ein Eintrag kann nur einer der Kategorien zugeordnet werden.\" ] }, { \"text\": \"An einer Hochschule soll zwischen zwei Personengruppen unterschieden werden: Es gibt nur Studenten und Mitarbeiter.\", \"entities\": [ \"Hochschulangeh√∂riger\", \"Student\", \"Mitarbeiter\" ], \"solution\": [ \"t\", \"n\" ], \"comments\": [ \"Neben Studenten und Mitarbeitern werden keine anderen Personengruppen an der Hochschule verwaltet.\", \"Ein Student kann gleichzeitig auch ein Mitarbeiter (studentische Hilfskraft) und ein Mitarbeiter auch Student sein.\" ] }, { \"text\": \"F√ºr ein Krankenhaus sollen die verschiedenen Personengruppen verwaltet werden. Unterschieden wird dabei zwischen Besuchern, Patienten und Personal.\", \"entities\": [ \"Person\", \"Besucher\", \"Patient\", \"Personal\" ], \"solution\": [ \"t\", \"n\" ], \"comments\": [ \"Im Krankenhaus gibt es nur Besucher, Patienten und Personal. Andere Personengruppen k√∂nnen nicht vorkommen.\", \"Eine Person kann auch mehreren Personengruppen angeh√∂ren. Jemand vom Personal kann z.B. auch Patient oder Besucher sein.\" ] } ]; /** * Notations data. * @type {Object.&lt;string,notation_data&gt;} */ export const notations = { \"abrial\": { \"key\": \"abrial\", \"title\": \"Abrial\", \"centered\": true, \"comment\": \"Die Abrial bzw. (min,max)-Notation gibt f√ºr jeden an einer Beziehung beteiligten Entit√§tentyp an, mit wie vielen Entit√§ten auf der anderen Seite eine Entit√§t dieses Typs mindestens und h√∂chstens in Beziehung steht.\" }, \"arrow\": { \"key\": \"arrow\", \"title\": \"Pfeilnotation\", \"swap\": true, \"mirrored\": true }, \"chen\": { \"key\": \"chen\", \"title\": \"Chen\", \"swap\": true, \"centered\": true, \"comment\": \"In der Chen-Notation sind nur einfache und mehrfache Beziehungstypen (1 und N) darstellbar, da die Beziehungsmengen bei Chen nur in ihrer Maximalaussage genannt werden. Bei Phrasen die auf einen bedingten oder mehrfach bedingten Beziehungstyp hindeuten, sollte besser zu einer anderen Notation gewechselt werden.\" }, \"crow\": { \"key\": \"crow\", \"title\": \"Kr√§henfu√ü\", \"swap\": true, \"mirrored\": true }, \"mc\": { \"key\": \"mc\", \"swap\": true, \"title\": \"MC\" }, \"uml\": { \"key\": \"uml\", \"swap\": true, \"title\": \"UML\" } }; /** * German translations. * @type {Object.&lt;string,string&gt;} */ export const de = { /* Badges */ \"badge_ak\": \"AK\", \"badge_ak_title\": \"Alternativschl√ºssel\", \"badge_fk\": \"FK\", \"badge_fk_title\": \"Fremdschl√ºssel\", \"badge_man\": \"NOT NULL\", \"badge_opt\": \"NULL\", \"badge_pk\": \"PK\", \"badge_pk_title\": \"Prim√§rschl√ºssel\", /* Basic Terms */ \"main_title\": \"ER-REL-Trainer\", \"main_heading\": \"Gegeben ist ein ER-Diagramm, das eine Beziehung zwischen Entit√§ten zeigt. Ihre Aufgabe ist es das ER-Diagramm in ein logisches relationales Schema zu √ºberf√ºhren und daf√ºr die n√∂tigen Tabellen anzulegen, darin die erforderlichen Schl√ºsselattribute zu erg√§nzen und die Richtung festzulegen, in der die Tabellen miteinander in Beziehung stehen.\", \"main_notation\": \"ER-Notation:\", \"main_phrase\": \"Phrase\", \"main_table\": \"Tabelle\", /* Buttons */ \"btn_correction\": \"Korrigieren\", \"btn_finish\": \"Neustart\", \"btn_next\": \"Weiter\", \"btn_skip\": \"√úberspringen\", \"btn_solution\": \"Zeige L√∂sung\", \"btn_submit\": \"Abschicken\", /* Comments During Input */ \"comment_create_tables\": \"Hinweis: √úber die Buttons unter dem ER-Diagramm k√∂nnen neue Tabellen angelegt werden. Entscheide, welche Tabellen ben√∂tigt werden.\", \"comment_decide_null\": \"Hinweis: Lege f√ºr jedes Attribut fest, ob dessen Wert optional (NULL) oder verpflichtend (NOT NULL) ist.\", \"comment_connect_tables\": \"Hinweis: Setze √ºber Fremdschl√ºssel die Tabellen miteinander in Beziehung.\", \"comment_set_arrows\": \"Hinweis: Lege an den Endpunkten der Verbindungslinien zwischen Tabellen fest, in welcher Richtung die Tabellen miteinander in Beziehung stehen.\", /* Comments on Wrong Solution Concerning Tables */ \"comment_missing_entity_table\": \"Hinweis: F√ºr jede Entit√§t muss eine Tabelle erstellt werden.\", \"comment_missing_relation_table\": \"Hinweis: Zur Aufl√∂sung einer 'n:m'-Beziehung zwischen zwei oder mehr Entit√§ten wird eine zus√§tzliche Tabelle ben√∂tigt.\", \"comment_not_needed_relation_table\": \"Hinweis: Eine zus√§tzliche Tabelle wird nur bei einer 'n:m'-Beziehung zwischen zwei oder mehr Entit√§ten ben√∂tigt.\", /* Comments on Wrong Solution Concerning Primary Keys */ \"comment_missing_pk\": \"Hinweis: Jede angelegte Tabelle ben√∂tigt einen Prim√§rschl√ºssel.\", \"comment_pk_not_null\": \"Hinweis: Attribute, die zum Prim√§rschl√ºssel geh√∂ren, sind immer Pflichtfelder (NOT NULL).\", \"comment_wrong_pk\": \"Hinweis: Eine Entit√§ts-Tabelle hat √ºblicherweise einen k√ºnstlichen Prim√§rschl√ºssel und der Attributname orientiert sich am Namen der Entit√§t.\", \"comment_nm_pk\": \"Hinweis: Bei einer 'n:m'-Beziehung zwischen zwei oder mehr Entit√§ten hat die zus√§tzliche Tabelle √ºblicherweise einen zusammengesetzten Prim√§rschl√ºssel, bestehend aus jeweils einem Attribut f√ºr jede Entit√§t. Dar√ºber wird sichergestellt, dass jede Kombination aus deren Werten nur einmal vorkommt.\", /* Comments on Wrong Solution Concerning Foreign Keys */ \"comment_1c_fk\": \"Hinweis: Wenn bei einer '1:1'-Beziehung beide Entit√§ten √ºber unterschiedliche Kardinalit√§ten verf√ºgen, wird der Fremdschl√ºssel bei der schw√§cheren Entit√§t hinzugef√ºgt. Eine Entit√§t ist eine schwache Entit√§t, wenn ihre Existenz von der jeweils anderen Entit√§t abh√§ngt.\", \"comment_1n_fk\": \"Hinweis: Bei einer '1:n'-Beziehung wird der Fremdschl√ºssel bei der einfachen Entit√§t gesetzt. Eine einfache Entit√§t ist die Entit√§t, die h√∂chstens einmal mit der jeweils anderen Entit√§t verbunden ist.\", \"comment_nm_fk\": \"Hinweis: Bei einer 'n:m'-Beziehung zwischen zwei oder mehr Entit√§ten werden die Fremdschl√ºssel in der zus√§tzlichen Tabelle gesetzt.\", \"comment_hierarchy_fk\": \"Hinweis: Bei einer Generalisierung/Spezialisierung werden die Fremdschl√ºssel bei den Spezialisierungen gesetzt.\", \"comment_not_null_fk\": \"Hinweis: Wird √ºber den Fremdschl√ºssel eine Muss-Kardinalit√§t modelliert, ist der Fremdschl√ºssel nicht optional (NOT NULL). Dadurch ist die Referenzierung eines Datensatzes in der Zieltabelle verpflichtend.\", \"comment_null_fk\": \"Hinweis: Wird √ºber den Fremdschl√ºssel eine Kann-Kardinalit√§t modelliert, ist der Fremdschl√ºssel optional (NULL). Dadurch ist die Referenzierung eines Datensatzes in der Zieltabelle nicht verpflichtend.\", /* Comments on Wrong Solution Concerning Alternate Keys */ \"comment_ak\": \"Hinweis: Bei einer '1:1'-Beziehung wird der Fremdschl√ºssel als Alternativschl√ºssel gesetzt, damit es keine mehrfache Referenzierung eines Datensatzes in der Zieltabelle geben kann. Ohne den Alternativschl√ºssel w√ºrde man eine '1:n'-Beziehung statt einer '1:1'-Beziehung realisieren.\", /* Comments on Correct Solution */ \"comment_alternate_solution\": \"Hinweis: Dies ist eine alternative L√∂sung. Sie entspricht nicht der empfohlenen L√∂sung, erf√ºllt aber ebenfalls die Anforderungen.\", \"comment_mandatory\": \"Hinweis: Dies ist eine korrekte L√∂sung. Bedenke aber, dass manches auch nicht modellierbar war. Eine Muss-Kardinalit√§t, bei der √ºber den Fremdschl√ºssel referenzierten Entit√§t, l√§sst sich im logischen relationalen Schema nicht abbilden. Es kann zwar beim Fremdschl√ºssel mittels NULL und NOT NULL festgelegt werden, dass es zu jeder A-Entit√§t mindestens eine B-Entit√§t geben muss, aber nicht gleichzeitig auch umgekehrt. Eine Referenzierung in beide Richtungen w√§re eine Redundanz und daher keine L√∂sung.\", \"comment_total\": \"Hinweis: Dies ist eine korrekte L√∂sung. Bedenke aber, dass manches auch nicht modellierbar war. Bei einer Generalisierung/Spezialisierung l√§sst sich die totale Vollst√§ndigkeit im logischen relationalen Schema nicht abbilden. Es kann daher nicht garantiert werden, dass es keine weiteren Untertypen des Obertyps gibt.\", \"comment_disjoint\": \"Hinweis: Dies ist eine korrekte L√∂sung. Bedenke aber, dass manches auch nicht modellierbar war. Bei einer Generalisierung/Spezialisierung l√§sst sich die Disjunktheit im logischen relationalen Schema nicht abbilden. Es kann daher nicht garantiert werden, dass eine Entit√§t genau einer Spezialisierung angeh√∂rt.\", /* Feedback */ \"feedback_correct\": \"Ihre Antwort war richtig!\", \"feedback_failed\": \"Ihre letzte Antwort war falsch!\", \"feedback_solution\": \"Richtige L√∂sung:\", /* Generalisation/Specialisation Relation */ \"hierarchy_d\": \"disjunkt\", \"hierarchy_is\": \"ist\", \"hierarchy_n\": \"nicht-disjunkt\", \"hierarchy_p\": \"partiell\", \"hierarchy_t\": \"total\", /* Legend of Notations */ \"legend\": \"Legende\", \"legend_1\": \"einfach\", \"legend_c\": \"bedingt\", \"legend_n\": \"mehrfach\", \"legend_cn\": \"bedingt mehrfach\", /* Table Dialog */ \"table_dialog_info\": \"Lege fest, welche Attribute Teil welcher Schl√ºssel sind. Entscheide auch f√ºr jedes Attribut, ob es optional (NULL) oder verpflichtend (NOT NULL) ist.\" }; /** * English translations. * @type {Object.&lt;string,string&gt;} */ export const en = { /* Badges */ \"badge_ak\": \"AK\", \"badge_ak_title\": \"Alternate Key\", \"badge_fk\": \"FK\", \"badge_fk_title\": \"Foreign Key\", \"badge_man\": \"NOT NULL\", \"badge_opt\": \"NULL\", \"badge_pk\": \"PK\", \"badge_pk_title\": \"Primary Key\", /* Basic Terms */ \"main_title\": \"ER-REL Trainer\", \"main_heading\": \"Given an ER diagram showing a relationship between entities. Your task is to convert the ER diagram into a logical relational schema and to create the necessary tables, add the necessary key attributes and determine the direction in which the tables are related to each other.\", \"main_notation\": \"ER Notation:\", \"main_phrase\": \"Phrase\", \"main_table\": \"Table\", /* Buttons */ \"btn_correction\": \"Correction\", \"btn_finish\": \"Restart\", \"btn_next\": \"Next\", \"btn_skip\": \"Skip\", \"btn_solution\": \"Show Solution\", \"btn_submit\": \"Submit\", /* Comments During Input */ \"comment_create_tables\": \"Note: New tables can be created using the buttons below the ER diagram. Decide which tables are needed.\", \"comment_decide_null\": \"Note: Specify for each attribute whether its value is optional (NULL) or mandatory (NOT NULL).\", \"comment_connect_tables\": \"Note: Use foreign keys to relate the tables to one another.\", \"comment_set_arrows\": \"Note: At the endpoints of the connecting lines between tables, specify in which direction the tables relate to each other.\", /* Comments on Wrong Solution Concerning Tables */ \"comment_missing_entity_table\": \"Note: A table must be created for each entity.\", \"comment_missing_relation_table\": \"Note: An additional table is required to resolve an 'many-to-many' relationship between two or more entities.\", \"comment_not_needed_relation_table\": \"Note: An additional table is only required for an 'many-to-many' relationship between two or more entities.\", /* Comments on Wrong Solution Concerning Primary Keys */ \"comment_missing_pk\": \"Note: Each table created requires a primary key.\", \"comment_pk_not_null\": \"Note: Attributes belonging to the primary key are always mandatory (NOT NULL).\", \"comment_wrong_pk\": \"Note: An entity table usually has an artificial primary key and the attribute name is based on the entity name.\", \"comment_nm_pk\": \"Note: In an 'many-to-many' relationship between two or more entities, the additional table typically has a composite primary key consisting of one attribute for each entity. This ensures that each combination of their values occurs only once.\", /* Comments on Wrong Solution Concerning Foreign Keys */ \"comment_1c_fk\": \"Note: In an 'one-to-one' relationship, if both entities have different cardinalities, the foreign key is added at the weaker entity. An entity is a weak entity if its existence depends on the other entity.\", \"comment_1n_fk\": \"Note: In an 'one-to-many' relationship, the foreign key is set on the simple entity. A simple entity is the entity that is connected to the other entity at most once.\", \"comment_nm_fk\": \"Note: In an 'many-to-many' relationship between two or more entities, the foreign keys are set in the additional table.\", \"comment_hierarchy_fk\": \"Note: In the case of a generalization/specialization, the foreign keys are set for the specializations.\", \"comment_not_null_fk\": \"Note: If a mandatory cardinality is modeled via the foreign key, the foreign key is not optional (NOT NULL). This means that a data record must be referenced in the target table.\", \"comment_null_fk\": \"Note: If an optional cardinality is modeled via the foreign key, the foreign key is optional (NULL). This means that referencing a data record in the target table is not mandatory.\", /* Comments on Wrong Solution Concerning Alternate Keys */ \"comment_ak\": \"Note: In an 'one-to-one' relationship, the foreign key is set as an alternative key so that a data record cannot be referenced multiple times in the target table. Without the alternative key, an 'one-to-many' relationship would be realized instead of an 'one-to-one' relationship.\", /* Comments on Correct Solution */ \"comment_alternate_solution\": \"Note: This is an alternative solution. It is not the recommended solution, but still fulfills the requirements.\", \"comment_mandatory\": \"Note: This is a correct solution. But keep in mind that some things could not be modeled. A mandatory cardinality for the entity referenced via the foreign key cannot be mapped in the logical relational schema. With the foreign key, you can use NULL and NOT NULL to specify that there must be at least one B entity for every A entity, but not vice versa at the same time. Referencing in both directions would be redundant and therefore not a solution.\", \"comment_total\": \"Note: This is a correct solution. But keep in mind that some things could not be modeled. In the case of generalization/specialization, total completeness cannot be represented in the logical relational schema. It can therefore not be guaranteed that there are no further subtypes of the supertype.\", \"comment_disjoint\": \"Note: This is a correct solution. But keep in mind that some things could not be modeled. In the case of generalization/specialization, the disjointness cannot be represented in the logical relational schema. It can therefore not be guaranteed that an entity belongs to exactly one specialization.\", /* Feedback */ \"feedback_correct\": \"Your answer was correct!\", \"feedback_failed\": \"Your last answer was wrong!\", \"feedback_solution\": \"Correct solution:\", /* Generalisation/Specialisation Relation */ \"hierarchy_d\": \"disjoint\", \"hierarchy_is\": \"is\", \"hierarchy_n\": \"non-disjoint\", \"hierarchy_p\": \"partial\", \"hierarchy_t\": \"total\", /* Legend of Notations */ \"legend\": \"Legend\", \"legend_1\": \"Simple\", \"legend_c\": \"Conditional\", \"legend_n\": \"Multiple\", \"legend_cn\": \"Conditional Multiple\", /* Table Dialog */ \"table_dialog_info\": \"Specify which attributes are part of which keys. Also decide for each attribute whether it is optional (NULL) or mandatory (NOT NULL).\" }; √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"resources_templates.js.html":{"id":"resources_templates.js.html","title":"Source: resources/templates.js","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Source: resources/templates.js /** * @overview HTML templates of &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @author Andr√© Kless &lt;andre.kless@web.de&gt; 2021-2022 */ import { html, render } from './../libs/lit/lit.js'; export { render }; /** * HTML templates of &lt;i&gt;ccmjs&lt;/i&gt;-based web component for ER-REL Trainer. * @module HTMLTemplates */ /** * Returns the main HTML template. * @function * @param {object} app - App instance. * @param {boolean} [show_solution] - Reveal main solution. * @returns {*} */ export function main( app, show_solution ) { /** * App state data * @type {app_state} */ const data = app.getValue(); /** * Data of the notation in the ER diagram * @type {notation_data} */ const notation = app.notations[ data.notation ]; /** * Current phrase number * @type {number} */ const phrase_nr = data.results.length; /** * Data of the current phrase * @type {phrase_data} */ const phrase = data.phrases[ phrase_nr - 1 ]; /** * Result data of the current phrase * @type {result_data} */ const result = data.results[ phrase_nr - 1 ]; /** * ER diagram shows a binary relation * @type {boolean} */ const is_binary = phrase.entities.length === 2; /** * ER diagram shows a recursive binary relation * @type {boolean} */ const is_recursive = is_binary &amp;&amp; phrase.entities[ 0 ] === phrase.entities[ 1 ] &amp;&amp; !notation.mirrored; /** * ER diagram shows an one-to-one (1:1, 1:c, c:1 or c:c) relation * @type {boolean} */ const is_single = !phrase.solution.find( value =&gt; value !== '1' &amp;&amp; value !== 'c' ); /** * ER diagram shows an many-to-many (n:n, cn:n, n:cn or cn:cn) relation * @type {boolean} */ const is_multi = !phrase.solution.find( value =&gt; value !== 'cn' &amp;&amp; value !== 'n' ); /** * ER diagram shows an one-to-many (1:n, c:n, 1:cn or c:cn) relation * @type {boolean} */ const is_many = is_binary &amp;&amp; !is_single &amp;&amp; !is_multi; /** * ER diagram shows a generalisation/specialisation relation * @type {boolean} */ const is_hierarchy = !phrase.relation; /** * Bit mask for arrows * @type {number} */ const arrows_mask = 15872; /** * Bit mask for foreign keys * @type {number} */ const fk_mask = 496; /** * Translation index for the heading ('heading', 'correct' or 'failed') * @type {string} */ const heading = result.correct === undefined ? 'main_heading' : 'feedback_' + ( result.correct ? 'correct' : 'failed' ); return html` &lt;div class=\"d-flex justify-content-between align-items-center\"&gt; &lt;h1 class=\"mx-3\" data-lang=\"main_title\"&gt;${ app.text.main_title }&lt;/h1&gt; &lt;aside&gt;&lt;/aside&gt; &lt;/div&gt; &lt;header class=\"bg-light border rounded-top d-flex flex-wrap justify-content-between align-items-center p-2\"&gt; &lt;!-- Heading --&gt; &lt;div id=\"heading\" class=\"p-2 pe-3\" data-lang=\"${ heading }\"&gt;${ app.text[ heading ] }&lt;/div&gt; &lt;div class=\"d-flex align-items-center text-nowrap px-2\" ?data-hidden=${ app.fixed_notation }&gt; &lt;!-- Notation Selection --&gt; &lt;section&gt; &lt;div class=\"d-flex align-items-center\"&gt; &lt;label for=\"notation-input\" class=\"m-0\"&gt;&lt;b data-lang=\"main_notation\"&gt;${ app.text.main_notation }&lt;/b&gt;&lt;/label&gt; &lt;select id=\"notation-input\" class=\"form-select ms-2\" @change=${ event =&gt; app.events.onNotation( event.target.value ) }&gt; ${ Object.values( app.notations ).sort( ( a, b ) =&gt; a.title.localeCompare( b.title ) ).map( ( { key, title } ) =&gt; html`&lt;option value=\"${ key }\" ?disabled=${ !is_binary &amp;&amp; app.notations[ key ].swap } ?selected=${ data.notation === key }&gt;${ title }&lt;/option&gt;` ) } &lt;/select&gt; &lt;/div&gt; &lt;/section&gt; &lt;!-- Legend --&gt; &lt;section class=\"ms-2\" ?data-hidden=${ !app.legend }&gt; &lt;button class=\"btn btn-link\" @click=${ app.events.onLegend } data-lang=\"legend\"&gt;${ app.text.legend }&lt;/button&gt; &lt;/section&gt; &lt;/div&gt; &lt;/header&gt; &lt;main class=\"border rounded-bottom border-top-0 px-4 py-2 text-nowrap\"&gt; &lt;div&gt; &lt;!-- Phrase --&gt; &lt;section class=\"lead px-2 py-3\" ?data-hidden=${ !phrase.text }&gt; &lt;b&gt; &lt;span data-lang=\"main_phrase\"&gt;${ app.text.main_phrase }&lt;/span&gt;&lt;span ?data-hidden=${ app.phrases.length === 1 }&gt; ${ phrase_nr }/${ app.number }&lt;/span&gt;: &lt;/b&gt; &lt;span class=\"text-wrap\"&gt;${ phrase.text }&lt;/span&gt; &lt;/section&gt; &lt;!-- Diagram and Tables --&gt; ${ diagram() } &lt;hr&gt; ${ scheme() } &lt;!-- Correct Solution --&gt; &lt;div ?data-hidden=${ !app.feedback || !app.show_solution || !show_solution || result.correct === undefined }&gt; &lt;hr&gt; &lt;div class=\"lead text-center pt-2\" data-lang=\"feedback_solution\"&gt;${ app.text.feedback_solution }&lt;/div&gt; ${ app.feedback &amp;&amp; app.show_solution &amp;&amp; show_solution &amp;&amp; result.correct !== undefined ? scheme( true ) : '' } &lt;/div&gt; &lt;hr&gt; &lt;!-- Comments During Input --&gt; &lt;section ?data-hidden=${ !( app.comments &amp;&amp; app.comments.input &amp;&amp; result.correct === undefined ) }&gt; ${ comment( 'create_tables', !result.input.find( ( table, i ) =&gt; table !== null &amp;&amp; !( i === 2 &amp;&amp; is_recursive ) ) ) } ${ comment( 'decide_null', result.input.find( table =&gt; table &amp;&amp; table.find( attr =&gt; attr &amp; 508 &amp;&amp; !( attr &amp; 3 ) ) ) ) } ${ comment( 'connect_tables', result.input.find( ( table, i ) =&gt; table !== null &amp;&amp; !table.find( attr =&gt; attr &amp; fk_mask ) &amp;&amp; !result.input.find( ( table, j ) =&gt; i !== j &amp;&amp; isConnected( i, j ) ) ) ) } ${ comment( 'set_arrows', result.input.find( ( table, i ) =&gt; table !== null &amp;&amp; table.find( ( attr, j ) =&gt; i !== j &amp;&amp; attr &amp; fk_mask &amp;&amp; result.input[ j ] &amp;&amp; !( attr &amp; 1 &lt;&lt; ( 4 + j + 5 ) ) &amp;&amp; !( result.input[ j ][ i ] &amp; 1 &lt;&lt; ( 4 + i + 5 ) ) ) ) ) } &lt;/section&gt; &lt;!-- Comments on Wrong Solution --&gt; &lt;section ?data-hidden=${ !( app.comments &amp;&amp; app.comments.wrong &amp;&amp; result.correct === false ) }&gt; &lt;!-- Wrong Tables --&gt; ${ comment( 'missing_entity_table', result.input.find( ( table, i ) =&gt; i &amp;&amp; !table &amp;&amp; !( i === 2 &amp;&amp; is_recursive ) ) !== undefined ) } ${ comment( 'missing_relation_table', is_multi &amp;&amp; !result.input[ 0 ] ) } ${ comment( 'not_needed_relation_table', !is_multi &amp;&amp; result.input[ 0 ] ) } &lt;!-- Wrong Primary Keys --&gt; ${ comment( 'missing_pk', result.input.find( table =&gt; table &amp;&amp; !table.find( attr =&gt; attr &amp; 1 &lt;&lt; 2 ) ) ) } ${ comment( 'pk_not_null', result.input.find( table =&gt; table &amp;&amp; table.find( attr =&gt; attr &amp; 1 &lt;&lt; 2 &amp;&amp; !( attr &amp; 1 &lt;&lt; 1 ) ) ) ) } ${ comment( 'wrong_pk', result.input.find( ( table, i ) =&gt; table &amp;&amp; i &amp;&amp; table.find( ( attr, j ) =&gt; attr &amp; 1 &lt;&lt; 2 &amp;&amp; i !== j ) ) ) } ${ comment( 'nm_pk', is_multi &amp;&amp; result.input[ 0 ] &amp;&amp; ( result.input[ 0 ][ 0 ] &amp; 1 &lt;&lt; 2 || result.input[ 0 ].find( ( attr, i ) =&gt; i &amp;&amp; !( attr &amp; 1 &lt;&lt; 2 ) ) ) ) } &lt;!-- Wrong Foreign Keys --&gt; ${ comment( '1c_fk', phrase.solution.toString() === '1,c' &amp;&amp; result.input[ 1 ] &amp;&amp; !( result.input[ 1 ][ 2 ] &amp; 64 ) || phrase.solution.toString() === 'c,1' &amp;&amp; result.input[ 2 ] &amp;&amp; !( result.input[ 2 ][ 1 ] &amp; 32 ) ) } ${ comment( '1n_fk', is_many &amp;&amp; result.input.find( ( table, i ) =&gt; i &amp;&amp; table &amp;&amp; !phrase.solution[ i - 1 ].includes( 'n' ) &amp;&amp; !( table[ i === 1 ? 2 : 1 ] &amp; 1 &lt;&lt; ( 4 + ( i === 1 ? 2 : 1 ) ) ) ) ) } ${ comment( 'nm_fk', is_multi &amp;&amp; result.input[ 0 ] &amp;&amp; result.input[ 0 ].find( ( attr, i ) =&gt; i ? !( attr &amp; 1 &lt;&lt; ( 4 + i ) ) : attr &amp; 1 &lt;&lt; ( 4 + i ) ) ) } ${ comment( 'hierarchy_fk', is_hierarchy &amp;&amp; result.input.find( ( table, i ) =&gt; i &gt; 1 &amp;&amp; table &amp;&amp; !( table[ 1 ] &amp; ( 1 &lt;&lt; 5 ) ) ) ) } ${ comment( 'not_null_fk', !( is_many &amp;&amp; ( phrase.solution.includes( 'c' ) || phrase.solution.toString() === 'c,c' ) ) &amp;&amp; !is_multi &amp;&amp; result.input.find( ( table, i ) =&gt; table &amp;&amp; table.find( ( attr, j ) =&gt; attr &amp; fk_mask &amp;&amp; ( attr &amp; fk_mask ) === ( ( result.solution &amp;&amp; result.solution[ i ] &amp;&amp; result.solution[ i ][ j ] ) &amp; fk_mask ) &amp;&amp; attr &amp; 1 ) ) ) } ${ comment( 'null_fk', is_many &amp;&amp; ( phrase.solution.includes( 'c' ) || phrase.solution.toString() === 'c,c' ) &amp;&amp; ( () =&gt; { const left = phrase.solution[ 0 ] === 'c'; const table = result.input[ left ? 1 : 2 ]; const attr = table &amp;&amp; table[ left ? 2 : 1 ]; const fk = left ? 64 : 32; return attr &amp; fk &amp;&amp; attr &amp; 2; } )() ) } &lt;!-- Wrong Alternate Key --&gt; ${ comment( 'ak', is_hierarchy &amp;&amp; result.input.find( ( table, i ) =&gt; i &gt; 1 &amp;&amp; table &amp;&amp; table[ 1 ] &amp; ( 1 &lt;&lt; 5 ) &amp;&amp; !( table[ 1 ] &amp; 1 &lt;&lt; 3 ) ) || is_single &amp;&amp; ( () =&gt; { const c1 = phrase.solution.toString() === 'c,1'; const table = result.input[ c1 ? 2 : 1 ]; const attr = table &amp;&amp; table[ c1 ? 1 : 2 ]; const fk = c1 ? 32 : 64; return attr &amp; fk &amp;&amp; !( attr &amp; 8 ); } )() ) } &lt;/section&gt; &lt;!-- Comments on Correct Solution --&gt; &lt;section ?data-hidden=${ !( app.comments &amp;&amp; app.comments.correct &amp;&amp; result.correct === true ) }&gt; ${ comment( 'alternate_solution', !!result.alternate_solution ) } ${ comment( 'mandatory', ( () =&gt; { switch ( phrase.solution.toString() ) { case '1,1': case '1,n': case 'n,1': case 'c,n': case 'n,c': return true; } return false; } )() ) } ${ comment( 'total', is_hierarchy &amp;&amp; phrase.solution[ 0 ] === 't' ) } ${ comment( 'disjoint', is_hierarchy &amp;&amp; phrase.solution[ 1 ] === 'd' ) } &lt;/section&gt; &lt;!-- Buttons --&gt; &lt;section id=\"buttons\" class=\"d-flex justify-content-center flex-wrap px-2 py-3\"&gt; &lt;button id=\"submit\" type=\"submit\" form=\"scheme\" class=\"btn btn-primary m-1\" ?disabled=${ result.correct !== undefined } data-lang=\"btn_submit\"&gt;${ app.text.btn_submit }&lt;/input&gt; &lt;button id=\"correction\" class=\"btn btn-primary m-1\" @click=${ app.events.onCorrection } ?data-hidden=${ !app.correction } ?disabled=${ result.correct !== false || show_solution } data-lang=\"btn_correction\"&gt;${ app.text.btn_correction }&lt;/button&gt; &lt;button id=\"solution\" class=\"btn btn-primary m-1\" @click=${ app.events.onSolution } ?data-hidden=${ !app.show_solution } ?disabled=${ result.correct === undefined || show_solution } data-lang=\"btn_solution\"&gt;${ app.text.btn_solution }&lt;/button&gt; &lt;button id=\"next\" class=\"btn btn-primary m-1\" @click=${ app.events.onNext } ?disabled=${ !app.skip &amp;&amp; result.correct === undefined || phrase_nr === app.number } data-lang=\"btn_${ app.skip &amp;&amp; result.correct === undefined ? 'skip' : 'next' }\"&gt;${ app.text[ 'btn_' + ( app.skip &amp;&amp; result.correct === undefined ? 'skip' : 'next' ) ] }&lt;/button&gt; &lt;button id=\"finish\" class=\"btn btn-primary m-1\" @click=${ app.events.onFinish } ?disabled=${ !app.onfinish || !app.skip &amp;&amp; result.correct === undefined || !app.anytime_finish &amp;&amp; phrase_nr &lt; app.number } data-lang=\"btn_finish\"&gt;${ app.text.btn_finish }&lt;/button&gt; &lt;/section&gt; &lt;/div&gt; &lt;/main&gt; &lt;!-- Logos --&gt; &lt;aside class=\"mx-3 mt-3 text-center\"&gt; &lt;img src=\"./resources/img/logos.jpg\"&gt; &lt;/aside&gt; `; /** * Returns the HTML template for the ER diagram. * @returns {*} */ function diagram() { return html` &lt;section class=\"diagram px-2 py-4\"&gt; &lt;div class=\"text-center lead\"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ entity( phrase.relation ? 3 : 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ phrase.relation ? connection( 3 ) : line( 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ phrase.relation ? entity( 1 ) : line( 0 ) } ${ phrase.relation ? connection( 1 ) : line( 0 ) } &lt;div id=\"relation\"&gt; &lt;img src=\"${ notation.images[ phrase.relation ? 5 : 6 ] }\"&gt; &lt;div ?data-centered=${ notation.centered } ?data-triangle=${ !phrase.relation }&gt; ${ phrase.relation || html` &lt;div data-lang=\"hierarchy_${ phrase.solution[ 0 ] }\"&gt;${ app.text[ 'hierarchy_' + phrase.solution[ 0 ] ] }&lt;/div&gt; &lt;div data-lang=\"hierarchy_${ phrase.solution[ 1 ] }\"&gt;${ app.text[ 'hierarchy_' + phrase.solution[ 1 ] ] }&lt;/div&gt; ` || '' } &lt;/div&gt; &lt;/div&gt; ${ phrase.relation ? connection( 2 ) : line( 0 ) } ${ phrase.relation ? ( is_recursive ? line( 1 ) : entity( 2 ) ) : line( 0 ) } ${ line( is_recursive ? 4 : ( phrase.relation ? 0 : 6 ) ) } ${ line( is_recursive ? 3 : ( phrase.relation ? 0 : 5 ) ) } ${ is_recursive ? line( 3 ) : ( phrase.relation ? connection( 4 ) : line( 8 ) ) } ${ line( is_recursive ? 3 : ( phrase.relation ? 0 : 5 ) ) } ${ line( is_recursive ? 2 : ( phrase.relation ? 0 : 7 ) ) } ${ line( phrase.relation ? 0 : 1 ) } &lt;div&gt;&lt;/div&gt; ${ line( phrase.relation || phrase.entities.length &lt; 4 ? 0 : 1 ) } &lt;div&gt;&lt;/div&gt; ${ line( phrase.relation ? 0 : 1 ) } ${ entity( phrase.relation ? 0 : 2 ) } &lt;div&gt;&lt;/div&gt; ${ entity( phrase.relation ? 4 : ( phrase.entities.length &gt; 3 ? 3 : 4 ) ) } &lt;div&gt;&lt;/div&gt; ${ entity( phrase.relation ? 0 : ( phrase.entities.length &gt; 3 ? 4 : 3 ) ) } &lt;/div&gt; &lt;/section&gt; `; /** * Returns the HTML template for an entity connection. * @param {entity_nr} [entity] - Entity number * @returns {*} */ function connection( entity ) { return entity ? html` &lt;div class=\"${ entity &gt; 2 ? 'vertical' : '' }\"&gt; &lt;img class=\"${ entity === 1 &amp;&amp; notation.mirrored ? 'mirrored' : '' }\" src=\"${ notation.images[ [ '1', 'c', 'n', 'cn' ].indexOf( phrase.solution[ notation.swap ? ( entity &gt; 1 ? 0 : 1 ) : entity - 1 ] ) + 1 ] }\" ?data-hidden=${ !phrase.entities[ entity - 1 ] }&gt; &lt;/div&gt; ` : html`&lt;div&gt;&lt;/div&gt;`; } /** * Returns the HTML template for an entity. * @param {entity_nr} [nr] - Entity number * @returns {*} */ function entity( nr ) { return phrase.entities[ nr - 1 ] ? html` &lt;div class=\"entity p-3\"&gt; ${ phrase.entities[ nr - 1 ] } &lt;/div&gt; ` : html`&lt;div&gt;&lt;/div&gt;`; } /** * Returns the HTML template for a connection line. * @param {number} [nr] - Line number * @returns {*} */ function line( nr ) { if ( !nr ) return html`&lt;div&gt;&lt;/div&gt;`; if ( nr === 8 ) return html` &lt;div class=\"line8\"&gt; &lt;svg viewBox=\"0 0 240 60\"&gt; &lt;line x1=\"0\" y1=\"59\" x2=\"90\" y2=\"59\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;line x1=\"90\" y1=\"0\" x2=\"90\" y2=\"60\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;line x1=\"120\" y1=\"0\" x2=\"120\" y2=\"60\" stroke=\"${ phrase.entities.length &lt; 4 ? 'transparent' : 'black' }\" stroke-width=\"2\"/&gt; &lt;line x1=\"150\" y1=\"0\" x2=\"150\" y2=\"60\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;line x1=\"150\" y1=\"59\" x2=\"240\" y2=\"59\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;/svg&gt; &lt;/div&gt; `; return html`&lt;div class=\"line${ nr }\"&gt;&lt;/div&gt;`; } } /** * Returns the HTML template for the relation scheme tables. * @param {boolean} [is_solution] - Scheme shows the solution * @returns {*} */ function scheme( is_solution ) { /** * State in which the tables are displayed. * @type {table_data[]} */ const input = is_solution ? result.solution : result.input; /** * Main solution with which the tables are compared for the automated feedback. * @type {table_data[]} */ const solution = !is_solution &amp;&amp; ( result.alternate_solution || result.solution ); return html` &lt;form id=\"scheme\" @submit=${ event =&gt; { event.preventDefault(); !is_solution &amp;&amp; app.events.onSubmit(); } }&gt; &lt;section class=\"tables px-2 py-4\"&gt; ${ is_recursive &amp;&amp; recursive() || is_binary &amp;&amp; binary() || is_hierarchy &amp;&amp; ( phrase.entities.length === 3 ? hierarchy_3() : hierarchy_4() ) || ( phrase.entities.length === 3 ? multi_3() : multi_4() ) } &lt;/section&gt; &lt;/form&gt; `; /** * Returns the HTML template for the scheme tables of a binary relation. * @returns {*} */ function binary() { return html` &lt;div class=\"binary\"&gt; ${ table( 1 ) } ${ arrow( 'l', 2, 1 ) } ${ connection( 'h', 1, 2 ) } ${ arrow( 'r', 1, 2 ) } ${ table( 2 ) } ${ arrow( 'u', 0, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 2 ) } ${ connection( 'ur', 1, 0 ) } ${ arrow( 'r', 1, 0 ) } ${ table( 0 ) } ${ arrow( 'l', 2, 0 ) } ${ connection( 'ul', 2, 0 ) } &lt;/div&gt; `; } /** * Returns the HTML template for the scheme tables of a recursive binary relation. * @returns {*} */ function recursive() { return html` &lt;div class=\"recursive\"&gt; ${ connection( 'rd', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'dl', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ table( 1 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'ul', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'ur', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ arrow( 'r', 1, 0 ) } ${ table( 0 ) } &lt;/div&gt; `; } /** * Returns the HTML template for the scheme tables of a many-to-many relation with 3 entities. * @returns {*} */ function multi_3() { return html` &lt;div class=\"multi-3\"&gt; ${ connection( 'rd', 1, 3 ) } ${ connection( 'h', 1, 3 ) } ${ arrow( 'r', 1, 3 ) } ${ table( 3 ) } ${ arrow( 'l', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'dl', 2, 3 ) } ${ connection( 'v', 1, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 3 ) } ${ arrow( 'd', 3, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 2 ) } ${ table( 1 ) } ${ arrow( 'l', 0, 1 ) } ${ arrow( 'r', 1, 0 ) } ${ table( 0 ) } ${ arrow( 'l', 2, 0 ) } ${ arrow( 'r', 0, 2 ) } ${ table( 2 ) } ${ arrow( 'u', 2, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 1, 2 ) } ${ connection( 'ur', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'ul', 1, 2 ) } &lt;/div&gt; `; } /** * Returns the HTML template for the scheme tables of a many-to-many relation with 4 entities. * @returns {*} */ function multi_4() { return html` &lt;div class=\"multi-4\"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'rd', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'dl', 3, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 4, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 3, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'rd', 1, 3 ) } ${ connection( 'h', 1, 3 ) } ${ arrow( 'r', 1, 3 ) } ${ table( 3 ) } ${ arrow( 'l', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'dl', 2, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 3, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 3, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 3, 4 ) } ${ connection( 'rd', 1, 2 ) } ${ arrow( 'r', 2, 1 ) } ${ table( 1 ) } ${ arrow( 'l', 0, 1 ) } ${ arrow( 'r', 1, 0 ) } ${ table( 0 ) } ${ arrow( 'l', 2, 0 ) } ${ arrow( 'r', 0, 2 ) } ${ table( 2 ) } ${ arrow( 'l', 1, 2 ) } ${ connection( 'dl', 1, 2 ) } ${ connection( 'v', 3, 4 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 4, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 4, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 4, 2 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } ${ connection( 'v', 3, 4 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 0, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } ${ connection( 'v', 3, 4 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'ur', 1, 4 ) } ${ connection( 'h', 1, 4 ) } ${ arrow( 'r', 1, 4 ) } ${ table( 4 ) } ${ arrow( 'l', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'ul', 2, 4 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } ${ connection( 'v', 3, 4 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 3, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } ${ connection( 'v', 3, 4 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'ur', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'h', 3, 4 ) } ${ connection( 'x', 1, 2, 3, 4 ) } ${ connection( 'ul', 3, 4 ) } ${ connection( 'ur', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ connection( 'ul', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;/div&gt; `; } /** * Returns the HTML template for the scheme tables of a generalisation/specialisation relation with 3 entities. * @returns {*} */ function hierarchy_3() { return html` &lt;div class=\"multi-3\"&gt; ${ connection( 'rd', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ arrow( 'r', 2, 1 ) } ${ table( 1 ) } ${ arrow( 'l', 3, 1 ) } ${ connection( 'h', 1, 3 ) } ${ connection( 'dl', 1, 3 ) } ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 3 ) } ${ arrow( 'd', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 3 ) } ${ table( 2 ) } ${ arrow( 'l', 0, 2 ) } ${ arrow( 'r', 2, 0 ) } ${ table( 0 ) } ${ arrow( 'l', 3, 0 ) } ${ arrow( 'r', 0, 3 ) } ${ table( 3 ) } ${ arrow( 'u', 3, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 2, 3 ) } ${ connection( 'ur', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'h', 2, 3 ) } ${ connection( 'ul', 2, 3 ) } &lt;/div&gt; `; } /** * Returns the HTML template for the scheme tables of a generalisation/specialisation relation with 4 entities. * @returns {*} */ function hierarchy_4() { return html` &lt;div class=\"multi-4\"&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'rd', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'dl', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 0, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'rd', 1, 2 ) } ${ connection( 'h', 1, 2 ) } ${ arrow( 'r', 2, 1 ) } ${ table( 1 ) } ${ arrow( 'l', 4, 1 ) } ${ connection( 'h', 1, 4 ) } ${ connection( 'dl', 1, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 3, 1 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 1, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 1, 0 ) } ${ connection( 'rd', 2, 4 ) } ${ arrow( 'r', 4, 2 ) } ${ table( 2 ) } ${ arrow( 'l', 3, 2 ) } ${ arrow( 'r', 2, 3 ) } ${ table( 3 ) } ${ arrow( 'l', 4, 3 ) } ${ arrow( 'r', 3, 4 ) } ${ table( 4 ) } ${ arrow( 'l', 2, 4 ) } ${ connection( 'dl', 2, 4 ) } ${ connection( 'v', 1, 0 ) } ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 2 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 3 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 0, 4 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 4 ) } ${ connection( 'v', 1, 0 ) } ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'd', 3, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 4, 0 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 4 ) } ${ connection( 'v', 1, 0 ) } ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'ur', 2, 0 ) } ${ connection( 'h', 2, 0 ) } ${ arrow( 'r', 2, 0 ) } ${ table( 0 ) } ${ arrow( 'l', 4, 0 ) } ${ connection( 'h', 4, 0 ) } ${ connection( 'ul', 4, 0 ) } &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 4 ) } ${ connection( 'v', 1, 0 ) } ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ arrow( 'u', 1, 0 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'v', 2, 4 ) } ${ connection( 'v', 1, 0 ) } ${ connection( 'v', 2, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; &lt;div&gt;&lt;/div&gt; ${ connection( 'ur', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'h', 1, 0 ) } ${ connection( 'x', 2, 4, 1, 0 ) } ${ connection( 'ul', 1, 0 ) } ${ connection( 'ur', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'h', 2, 4 ) } ${ connection( 'ul', 2, 4 ) } &lt;div&gt;&lt;/div&gt; &lt;/div&gt; `; } /** * Returns the HTML template for a scheme table. * @param {table_nr} table - Table number * @returns {*} */ function table( table ) { /** * Input data for table attributes * @type {number[]} */ const input_table = input[ table ] &amp;&amp; input[ table ].map( attr =&gt; attr &amp; ~arrows_mask ); /** * Solution data for table attributes * @type {number[]} */ const solution_table = solution &amp;&amp; solution[ table ] &amp;&amp; solution[ table ].map( attr =&gt; attr &amp; ~arrows_mask ); // Table not created? =&gt; Render 'add table' button if ( !input_table ) return html` &lt;div&gt; &lt;button type=\"button\" class=\"btn btn-${ solution ? ( solution_table === input_table ? 'success' : 'danger' ) : 'primary' } btn-sm text-nowrap\" ?data-hidden=${ is_solution } ?disabled=${ solution } @click=${ () =&gt; app.events.onAddTable( table ) }&gt;+ &lt;span data-lang=\"main_table\"&gt;${ app.text.main_table }&lt;/span&gt;: \"&lt;span data-lang=\"${ table || phrase.relation ? '' : 'hierarchy_is' }\"&gt;${ table ? phrase.entities[ table - 1 ] : phrase.relation || app.text.hierarchy_is }&lt;/span&gt;\"&lt;/button&gt; &lt;/div&gt; `; // Table created? =&gt; Render table return html` &lt;div class=\"box border text-nowrap bg-${ solution ? ( solution_table &amp;&amp; solution_table.toString() === input_table.toString() ? 'success' : 'danger' ) : 'white' }\"&gt; &lt;!-- Table Header --&gt; &lt;header class=\"bg-${ solution ? ( !!solution_table === !!input_table ? 'success' : 'danger' ) : 'light' } border-bottom p-2 d-flex justify-content-center align-items-center\"&gt; &lt;!-- Edit Attributes Icon --&gt; &lt;span class=\"icon d-flex align-items-center\" ?data-invisible=${ solution } @click=${ () =&gt; app.events.onEditTable( table ) }&gt; &lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"text-primary\" viewBox=\"0 0 16 16\"&gt; &lt;path d=\"M12.854.146a.5.5 0 0 0-.707 0L10.5 1.793 14.207 5.5l1.647-1.646a.5.5 0 0 0 0-.708l-3-3zm.646 6.061L9.793 2.5 3.293 9H3.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.5h.5a.5.5 0 0 1 .5.5v.207l6.5-6.5zm-7.468 7.468A.5.5 0 0 1 6 13.5V13h-.5a.5.5 0 0 1-.5-.5V12h-.5a.5.5 0 0 1-.5-.5V11h-.5a.5.5 0 0 1-.5-.5V10h-.5a.499.499 0 0 1-.175-.032l-.179.178a.5.5 0 0 0-.11.168l-2 5a.5.5 0 0 0 .65.65l5-2a.5.5 0 0 0 .168-.11l.178-.178z\"/&gt; &lt;/svg&gt; &lt;/span&gt; &lt;!-- Table Name --&gt; &lt;span class=\"mx-2\"&gt;${ getTableName( app, phrase, table ) }&lt;/span&gt; &lt;!-- Remove Table Icon --&gt; &lt;span class=\"icon d-flex align-items-center\" ?data-invisible=${ solution || is_solution } @click=${ () =&gt; app.events.onRemoveTable( table ) }&gt; &lt;svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"text-danger\" viewBox=\"0 0 16 16\"&gt; &lt;path d=\"M1.293 1.293a1 1 0 0 1 1.414 0L8 6.586l5.293-5.293a1 1 0 1 1 1.414 1.414L9.414 8l5.293 5.293a1 1 0 0 1-1.414 1.414L8 9.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L6.586 8 1.293 2.707a1 1 0 0 1 0-1.414z\"/&gt; &lt;/svg&gt; &lt;/span&gt; &lt;/header&gt; &lt;!-- Table Body --&gt; &lt;main&gt; &lt;!-- Table Attributes --&gt; &lt;div class=\"p-1\"&gt; ${ input_table.map( ( value, i ) =&gt; attr( i ) ) } &lt;/div&gt; &lt;!-- Composed Primary Key --&gt; ${ key( 'pk' ) } &lt;!-- Composed Alternate Key --&gt; ${ key( 'ak' ) } &lt;/main&gt; &lt;/div&gt; `; /** * Returns the HTML template for a table attribute. * @param {number} i - Attribute index in the table * @returns {*} */ function attr( i ) { /** * Current bit mask of the table attribute. * @type {number} */ const input_attr = input_table[ i ]; /** * Bit mask of the solution for the table attribute. * @type {number} */ const solution_attr = solution &amp;&amp; solution_table &amp;&amp; solution_table[ i ]; return html` &lt;div class=\"${ solution ? 'bg-' + ( solution_attr === input_attr ? 'success' : 'danger' ) + ' ' : '' }rounded d-flex align-items-center px-1\" ?data-hidden=${ !input_attr }&gt; &lt;span class=\"me-1\"&gt;${ getAttributeName( app, phrase, i ) }&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 2 ) === ( input_attr &amp; 1 &lt;&lt; 2 ) ? 'success' : 'danger' ) : 'primary' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 2 ) || input_table.filter( value =&gt; value &amp; 1 &lt;&lt; 2 ).length &gt; 1 }&gt;${ app.text.badge_pk }&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 3 ) === ( input_attr &amp; 1 &lt;&lt; 3 ) ? 'success' : 'danger' ) : 'success' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 3 ) || input_table.filter( value =&gt; value &amp; 1 &lt;&lt; 3 ).length &gt; 1 }&gt;${ app.text.badge_ak }&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 4 ) === ( input_attr &amp; 1 &lt;&lt; 4 ) ? 'success' : 'danger' ) : 'warning' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 4 ) }&gt;${ app.text.badge_fk }0&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 5 ) === ( input_attr &amp; 1 &lt;&lt; 5 ) ? 'success' : 'danger' ) : 'warning' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 5 ) }&gt;${ app.text.badge_fk }1&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 6 ) === ( input_attr &amp; 1 &lt;&lt; 6 ) ? 'success' : 'danger' ) : 'warning' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 6 ) }&gt;${ app.text.badge_fk }2&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 7 ) === ( input_attr &amp; 1 &lt;&lt; 7 ) ? 'success' : 'danger' ) : 'warning' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 7 ) }&gt;${ app.text.badge_fk }3&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 8 ) === ( input_attr &amp; 1 &lt;&lt; 8 ) ? 'success' : 'danger' ) : 'warning' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 8 ) }&gt;${ app.text.badge_fk }4&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 0 ) === ( input_attr &amp; 1 &lt;&lt; 0 ) ? 'success' : 'danger' ) : 'light' } ${ solution ? '' : 'text-dark' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 0 ) }&gt;${ app.text.badge_opt }&lt;/span&gt; &lt;span class=\"badge bg-${ solution ? ( ( solution_attr &amp; 1 &lt;&lt; 1 ) === ( input_attr &amp; 1 &lt;&lt; 1 ) ? 'success' : 'danger' ) : 'light' } ${ solution ? '' : 'text-dark' } ms-1\" ?data-hidden=${ !( input_attr &amp; 1 &lt;&lt; 1 ) }&gt;${ app.text.badge_man }&lt;/span&gt; &lt;/div&gt; `; } /** * Returns the HTML template for a composite key. * @param {string} id - Key ID ('pk' or 'ak') * @returns {*} */ function key( id ) { let bit, color; switch ( id ) { case 'pk': bit = 4; color = 'primary'; break; case 'ak': bit = 8; color = 'success'; break; } return html` &lt;div class=\"border-top px-2 py-1 d-flex\" ?data-hidden=${ input_table.filter( value =&gt; value &amp; bit ).length &lt; 2 }&gt; &lt;div&gt; &lt;span class=\"badge bg-${ color }\"&gt;${ app.text[ 'badge_' + id ] }&lt;/span&gt; &lt;/div&gt; &lt;div class=\"ps-2\"&gt; ${ input_table.map( ( value, i ) =&gt; html`&lt;div&gt;${ value &amp; bit ? getAttributeName( app, phrase, i ) : '' }&lt;/div&gt;` ) } &lt;/div&gt; &lt;/div&gt; `; } } /** * Returns the HTML template for a part of a connection between two scheme tables. * @param {string} line_id - 'v': vertical, 'h': horizontal, 'l': left, 'r': right, 'u': up, 'd': down, 'ur': up right, 'ul': up left, 'rd': right down, 'dl': down left, 'x': cross * @param {table_nr} a - Table number of the first table of the first connection. * @param {table_nr} b - Table number of the second table of the first connection. * @param {table_nr} [c] - Table number of the first table of the second connection (only when the connecting lines of two table connections cross each other). * @param {table_nr} [d] - Table number of the second table of the second connection. * @returns {*} */ function connection( line_id, a, b, c, d ) { if ( line_id === 'x' ) { const v = isConnected( a, b ); const h = isConnected( c, d ); if ( !v &amp;&amp; !h ) return html`&lt;div&gt;&lt;/div&gt;`; if ( v &amp;&amp; !h ) return line( 'v' ); if ( !v &amp;&amp; h ) return line( 'h' ); if ( v &amp;&amp; h ) return line( 'x' ); } return isConnected( a, b ) ? line( line_id ) : html`&lt;div&gt;&lt;/div&gt;`; } /** * Returns the HTML template for a line as part of a connection between two scheme tables. * @param {string} line_id - 'v': vertical, 'h': horizontal, 'l': left, 'r': right, 'u': up, 'd': down, 'ur': up right, 'ul': up left, 'rd': right down, 'dl': down left, 'x': cross * @returns {*} */ function line( line_id ) { if ( line_id === 'x' ) return html` &lt;div class=\"line-x\"&gt; &lt;svg viewBox=\"0 0 18 26\"&gt; &lt;line x1=\"9\" y1=\"0\" x2=\"9\" y2=\"26\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;line x1=\"0\" y1=\"13\" x2=\"18\" y2=\"13\" stroke=\"black\" stroke-width=\"2\"/&gt; &lt;/svg&gt; &lt;/div&gt; `; return html`&lt;div class=\"line-${ line_id }\"&gt;&lt;/div&gt;`; } /** * Returns the HTML template for an arrow as endpoint of a connection between two scheme tables. * @param {string} arrow_id - 'l': left, 'r': right, 'u': up, 'd': down * @param {table_nr} from - Number of the table from which the connection starts. * @param {table_nr} to - Number of the table to which the connection goes. * @returns {*} */ function arrow( arrow_id, from, to ) { if ( isConnected( from, to ) ) { const $arrow = () =&gt; { switch ( arrow_id ) { case 'l': case 'r': return html` &lt;div class=\"arrow-${ arrow_id }\"&gt; &lt;svg viewBox=\"0 0 18 26\"&gt; &lt;line x1=\"0\" y1=\"12\" x2=\"10\" y2=\"12\" stroke=\"black\" stroke-width=\"2\"&gt;&lt;/line&gt; &lt;polygon points=\"10,8 18,12 10,17\" style=\"fill:black\"&gt;&lt;/polygon&gt; &lt;/svg&gt; &lt;/div&gt; `; case 'u': case 'd': return html` &lt;div class=\"arrow-${ arrow_id }\"&gt; &lt;svg viewBox=\"0 0 18 26\"&gt; &lt;polygon points=\"5,8 9,0 13,8\" style=\"fill:black\"&gt;&lt;/polygon&gt; &lt;line x1=\"9\" y1=\"8\" x2=\"9\" y2=\"26\" stroke=\"black\" stroke-width=\"2\"&gt;&lt;/line&gt; &lt;/svg&gt; &lt;/div&gt; `; } }; const $line = () =&gt; line( arrow_id === 'r' || arrow_id === 'l' ? 'h' : 'v' ); if ( app.auto_arrows ) return hasRef( from, to ) ? $arrow() : $line(); const input_attr = input[ from ][ to ]; const input_bit = input_attr &amp; 1 &lt;&lt; ( 9 + to ); const solution_attr = solution &amp;&amp; solution[ from ] &amp;&amp; solution[ from ][ to ]; const solution_bit = solution_attr &amp; 1 &lt;&lt; ( 9 + to ); return html` &lt;div class=\"endpoint d-flex justify-content-center align-items-center${ solution ? ' bg-' + ( input_bit === solution_bit ? 'success' : 'danger' ) : '' }\"&gt; &lt;select required ?disabled=${ solution || is_solution } @change=${ event =&gt; app.events.onArrow( event.target.value, from, to ) }&gt; &lt;option value=\"\"&gt;&lt;/option&gt; &lt;option value=\"line\" ?selected=${ !input_bit &amp;&amp; is_solution }&gt;‚Äî&lt;/option&gt; &lt;option value=\"arrow\" ?selected=${ input_bit }&gt;‚Üí&lt;/option&gt; &lt;/select&gt; &lt;div ?data-hidden=${ input_attr &amp; input_bit }&gt; ${ $line() } &lt;/div&gt; &lt;div ?data-hidden=${ !( input_attr &amp; input_bit ) }&gt; ${ $arrow() } &lt;/div&gt; &lt;/div&gt; `; } return html`&lt;div class=\"arrow-${ arrow_id }\"&gt;&lt;/div&gt;`; } } /** * Checks if two tables are connected. * @param {table_nr} a - table * @param {table_nr} b - another table * @returns {boolean} */ function isConnected( a, b ) { return hasRef( a, b ) || hasRef( b, a ); } /** * Checks if a table has a reference (foreign key) to another table. * @param {table_nr} from - Table potentially referencing another table. * @param {table_nr} to - Table that is potentially referenced. * @returns {boolean} */ function hasRef( from, to ) { const value = result.input[ from ] &amp;&amp; ( result.input[ to ] || is_recursive &amp;&amp; to === 2 ) &amp;&amp; result.input[ from ][ to ]; return !!( value &amp; 1 &lt;&lt; 4 || value &amp; 1 &lt;&lt; 5 || value &amp; 1 &lt;&lt; 6 || value &amp; 1 &lt;&lt; 7 || value &amp; 1 &lt;&lt; 8 ); } /** * Returns the HTML template for a comment. * @param {string} index - Comment index in config * @param {boolean} condition - Condition under which the comment is displayed. * @returns {*} */ function comment( index, condition ) { return condition ? html`&lt;div class=\"alert alert-info my-2 text-wrap\" role=\"alert\" data-lang=\"comment_${ index }\"&gt;${ app.text[ 'comment_' + index ] }&lt;/div&gt;` : html`&lt;div&gt;&lt;/div&gt;`; } } /** * Returns the HTML template of the legend table that shows the different notations in the ER diagram. * @function * @param {object} app - App instance. * @returns {*} */ export function legend( app ) { const ids = [ '1', 'c', 'n', 'cn' ]; return html` &lt;table class=\"table table-bordered\"&gt; &lt;thead&gt; &lt;tr&gt; &lt;th scope=\"col\"&gt;&lt;/th&gt; ${ ids.map( id =&gt; html`&lt;th scope=\"col\" data-lang=\"legend_${ id }\"&gt;${ app.text[ 'legend_' + id ] }&lt;/th&gt;`) } &lt;/tr&gt; &lt;/thead&gt; &lt;tbody&gt; ${ Object.values( app.notations ).sort( ( a, b ) =&gt; a.title.localeCompare( b.title ) ).map( notation =&gt; html` &lt;tr&gt; &lt;th scope=\"row\" style=\"vertical-align: middle\"&gt;${ notation.title }&lt;/th&gt; ${ ids.map( ( id, i ) =&gt; html`&lt;td&gt;&lt;img src=\"${ notation.images[ i + 1 ] }\"&gt;&lt;/td&gt;` ) } &lt;/tr&gt; ` ) } &lt;/tbody&gt; &lt;/table&gt; `; } /** * Returns the HTML template for the title of the table dialog. * @function * @param {object} app - App instance. * @param {table_nr} table - Table number. * @returns {*} */ export function tableDialogTitle( app, table ) { const data = app.getValue(); const phrase = data.phrases[ data.results.length - 1 ]; return html` &lt;span data-lang='table'&gt;${ app.text.table }&lt;/span&gt;: ${ table &amp;&amp; phrase.entities[ table - 1 ] || phrase.relation || app.text.hierarchy_is } `; } /** * Returns the HTML template for the body of the table dialog. * @function * @param {object} app - App instance. * @param {table_nr} table - Table number. * @returns {*} */ export function tableDialogBody( app, table ) { const data = app.getValue(); const phrase = data.phrases[ data.results.length - 1 ]; const result = data.results[ data.results.length - 1 ]; return html` &lt;table class=\"table table-bordered table-striped text-nowrap\"&gt; &lt;tbody&gt; ${ result.input[ table ].map( ( _, i, arr ) =&gt; attr( i ) ) } &lt;/tbody&gt; &lt;/table&gt; `; /** * Returns the HTML template for a row of a table attribute. * @param {table_nr} attr - Table that references the attribute as a foreign key. * @returns {*} */ function attr( attr ) { return html` &lt;tr&gt; &lt;td&gt; ${ getAttributeName( app, phrase, attr ) } &lt;/td&gt; &lt;td&gt; &lt;span class=\"badge ${ result.input[ table ][ attr ] &amp; 1 &lt;&lt; 2 ? 'on' : 'off' } bg-primary\" @click=${ () =&gt; app.events.onToggleBadge( table, attr, 2 ) }&gt;${ app.text.badge_pk }&lt;/span&gt; &lt;span class=\"badge ${ result.input[ table ][ attr ] &amp; 1 &lt;&lt; 3 ? 'on' : 'off' } bg-success\" @click=${ () =&gt; app.events.onToggleBadge( table, attr, 3 ) }&gt;${ app.text.badge_ak }&lt;/span&gt; &lt;span class=\"badge ${ result.input[ table ][ attr ] &amp; 1 &lt;&lt; attr + 4 ? 'on' : 'off' } bg-warning\" ?data-invisible=${ app.hide_own_fk &amp;&amp; table === attr } @click=${ () =&gt; app.events.onToggleBadge( table, attr, attr + 4 ) }&gt;${ app.text.badge_fk }${ attr }&lt;/span&gt; &lt;span class=\"d-inline-flex\"&gt; &lt;span class=\"badge left ${ result.input[ table ][ attr ] &amp; 1 ? 'on' : 'off' } bg-secondary\" @click=${ () =&gt; app.events.onToggleBadge( table, attr, 0 ) }&gt;${ app.text.badge_opt }&lt;/span&gt; &lt;span class=\"badge right ${ result.input[ table ][ attr ] &amp; 1 &lt;&lt; 1 ? 'on' : 'off' } bg-secondary\" @click=${ () =&gt; app.events.onToggleBadge( table, attr, 1 ) }&gt;${ app.text.badge_man }&lt;/span&gt; &lt;/span&gt; &lt;/td&gt; &lt;/tr&gt; `; } } /** * Returns the HTML template for the footer of the table dialog. * @function * @param {object} app - App instance. * @returns {*} */ export function tableDialogFooter( app ) { return html` &lt;div data-lang=\"table_dialog_info\"&gt;${ app.text.table_dialog_info }&lt;/div&gt; &lt;div class=\"d-flex flex-wrap mt-2\"&gt; &lt;div class=\"me-2 mb-1 d-flex align-items-center\"&gt; &lt;span class=\"badge bg-primary\" data-lang=\"badge_pk\"&gt;${ app.text.badge_pk }&lt;/span&gt;:&amp;nbsp; &lt;span data-lang=\"badge_pk_title\"&gt;${ app.text.badge_pk_title }&lt;/span&gt; &lt;/div&gt; &lt;div class=\"me-2 mb-1 d-flex align-items-center\"&gt; &lt;span class=\"badge bg-success\" data-lang=\"badge_ak\"&gt;${ app.text.badge_ak }&lt;/span&gt;:&amp;nbsp; &lt;span data-lang=\"badge_ak_title\"&gt;${ app.text.badge_ak_title }&lt;/span&gt; &lt;/div&gt; &lt;div class=\"me-2 mb-1 d-flex align-items-center\"&gt; &lt;span class=\"badge bg-warning\" data-lang=\"badge_fk\"&gt;${ app.text.fk }&lt;/span&gt;:&amp;nbsp; &lt;span data-lang=\"badge_fk_title\"&gt;${ app.text.badge_fk_title }&lt;/span&gt; &lt;/div&gt; &lt;/div&gt; `; } /** * Returns the name of a table. * @private * @function * @param {object} app - App instance. * @param {phrase_data} phrase - Phrase to which the table belongs. * @param {table_nr} table - Table number. * @returns {string} */ function getTableName( app, phrase, table ) { return table &amp;&amp; phrase.entities[ table - 1 ] || phrase.relation || app.text.hierarchy_is; } /** * Returns the name of a table attribute. * @private * @function * @param {object} app - App instance. * @param {phrase_data} phrase - Phrase to which the attribute belongs. * @param {table_nr} attr - Table that references the attribute as a foreign key. * @returns {string} */ function getAttributeName( app, phrase, attr ) { const getRole = entity_nr =&gt; attr &amp;&amp; phrase.roles &amp;&amp; phrase.roles[ entity_nr - 1 ]; const is_recursive = phrase.entities.length === 2 &amp;&amp; phrase.entities[ 0 ] === phrase.entities[ 1 ]; const name = getTableName( app, phrase, attr ); return toID( getRole( attr ) || is_recursive &amp;&amp; attr === 2 &amp;&amp; !getRole( 1 ) &amp;&amp; name + '2' || name ); } /** * Converts a string to an identifier in snake case. * @private * @function * @param {string} str * @returns {string} * @example * toID('Person') // =&gt; person_id */ function toID( str ) { return str.toLowerCase().trim().replace( /√§/g, 'ae' ).replace( /√∂/g, 'oe' ).replace( /√º/g, 'ue' ).replace( /√ü/g, 'ss' ).replace( /\\W/g, '_' ) + '_id'; } √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"global.html":{"id":"global.html","title":"Global","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Global Type Definitions app_config App configuration. Type: object Properties: Name Type Argument Description anytime_finish boolean &lt;optional&gt; Finish button is always unlocked. You no longer have to go through all the phrases to use it. auto_arrows boolean &lt;optional&gt; The arrows between tables are automatically set correctly and haven't to be selected manually. auto_pk boolean &lt;optional&gt; When creating a table, an artificial primary key is created automatically. comments object &lt;optional&gt; Show comments to support the user. Properties Name Type Argument Description input boolean &lt;optional&gt; Show comments during input (hints like \"start creating tables\" or \"start to connect tables\"). wrong boolean &lt;optional&gt; Show comments as feedback on an incorrect solution. correct boolean &lt;optional&gt; Show comments as feedback on a correct solution. correction boolean &lt;optional&gt; Allows the user to correct an incorrect solution. css array CSS dependencies. data object &lt;optional&gt; Source of app state data. default object &lt;optional&gt; Default notations data. feedback boolean &lt;optional&gt; Show visual feedback and any comments after submitting a solution. fixed_notation boolean &lt;optional&gt; The notation used in the ER diagram cannot be changed. helper array Dependency on helper functions. hide_own_fk boolean &lt;optional&gt; No foreign key is offered for the table's own main attribute. html array HTML template dependencies. lang array &lt;optional&gt; Dependency on component for multilingualism. legend boolean &lt;optional&gt; Button to display a legend for the different notations in the ER diagram. modal object Dependencies on component instances for modal dialogs. Properties Name Type Argument Description attr array Modal dialog for editing attributes of a table. legend array &lt;optional&gt; Modal dialog to display a legend for the different notations in the ER diagram. notations Object.&lt;string, notation_data&gt; Data of the different notations in the ER diagram. number number &lt;optional&gt; Number of phrases to be asked. By default, all phrases are asked. onchange function &lt;optional&gt; When something changes in the app (notation change, show legend, submit, correction, show solution, next phrase). onfinish function | object &lt;optional&gt; When the finish button is clicked. Sets the finish actions. onready function &lt;optional&gt; Is called once before the first start of the app. onstart function &lt;optional&gt; When the app has finished starting. phrases object Data of the phrases. show_solution boolean &lt;optional&gt; If the user solves the phrase incorrectly, he can reveal a correct solution. After that, the user can no longer correct his input. shuffle boolean &lt;optional&gt; The phrases are shuffled, so the order in which the phrases are asked is different each time the app is started. skip boolean &lt;optional&gt; Phrases can be skipped, so that not all phrases have to be answered. text boolean Contains the static texts (e.g. task description, labeling of buttons, hints on feedback). user boolean &lt;optional&gt; Dependency on component for user authentication. Source: ccm.er_rel_trainer.js, line 656 app_state App state data. Type: object Properties: Name Type Description correct number Number of correctly answered phrases. notation string Current selected notation (e.g. 'abrial', 'arrow', 'chen', 'crow', 'mc', 'uml'). phrases Array.&lt;phrase_data&gt; Phrases used in the order they are queried. results Array.&lt;result_data&gt; Result data of the phrases processed so far. Source: ccm.er_rel_trainer.js, line 694 Example { \"correct\": 1, \"notation\": \"abrial\", \"phrases\": [ { \"text\": \"Eine Bibliothek m√∂chte die einzelnen Seiten ausgew√§hlter B√ºcher digitalisieren.\", \"entities\": [ \"Buch\", \"Seite\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"1\" ] }, ... ] \"results\": [ { \"input\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ], \"correct\": true, \"solution\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] }, ... ] } attr_value Bit mask of a table attribute. 0: not set 2^0=1: is optional (NULL) 2^1=2: is mandatory (NOT NULL) 2^2=4: is part of primary key (PK) 2^3=8: is part of alternate key (AK) 2^4=16: is part of foreign key to relation table (FK0) 2^5=32: is part of foreign key to entity 1 (FK1) 2^6=64: is part of foreign key to entity 2 (FK2) 2^7=128: is part of foreign key to entity 3 (FK3) 2^8=256: is part of foreign key to entity 4 (FK4) 2^9=512: arrow for FK0 is set 2^10=1024: arrow for FK1 is set 2^11=2048: arrow for FK2 is set 2^12=4096: arrow for FK3 is set 2^13=8192: arrow for FK4 is set Type: number Source: ccm.er_rel_trainer.js, line 808 Example 1058 // = 1024 + 32 + 2 // =&gt; Foreign key to entity 1 (FK1) with set arrow and NOT NULL. entity_nr Number of an entity (1-N: entity 1-N). Type: number Source: ccm.er_rel_trainer.js, line 831 notation_data Notation data. Type: object Properties: Name Type Argument Description key string Unique key of the notation (e.g. 'abrial', 'arrow', 'chen', 'crow', 'mc', 'uml') title string Title of the notation (used for the selection of the notation). swap boolean &lt;optional&gt; Notation has a reverse reading order than Abrial notation. centered boolean &lt;optional&gt; The relational verb is centered vertically in the diagram and not slightly higher above a connecting line. mirrored boolean &lt;optional&gt; The notation is mirrored on the left side. comment string &lt;optional&gt; Note that informs about special aspects of a notation. images Array.&lt;string&gt; Image URLs or filenames of the images without a file extension. format string &lt;optional&gt; File extension of the image files (when using only filenames). path string &lt;optional&gt; Image URLs without filename and file extension (when using only filenames). Source: ccm.er_rel_trainer.js, line 725 Examples { \"key\": \"arial\", \"title\": \"Abrial\", \"centered\": true, \"images\": [ \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/e.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/1.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/c.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/n.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/cn.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/r.svg\", \"https://ccmjs.github.io/eild/er_trainer/resources/img/abrial/s.svg\" ] } { \"key\": \"arial\", \"title\": \"Abrial\", \"centered\": true, \"format\": \"svg\", \"images\": [ \"e\", \"1\", \"c\", \"n\", \"cn\", \"r\", \"s\" ], \"path\": \"https://ccmjs.github.io/eild/er_trainer/resources/img/\" } phrase_data Phrase data. Type: object Properties: Name Type Argument Description text string Text of the phrase. entities Array.&lt;string&gt; Names of the entities. roles Array.&lt;string&gt; &lt;optional&gt; Role names of the entities (useful in recursive relationships). relation string &lt;optional&gt; Name of the relation between the entities (default: has relation of a generalization/specialization). solution Array.&lt;string&gt; Solution of the phrase ('1': simple, 'c': conditional, 'n': multiple, 'cn': conditional multiple). Source: ccm.er_rel_trainer.js, line 763 Example { \"text\": \"Eine Bibliothek m√∂chte die einzelnen Seiten ausgew√§hlter B√ºcher digitalisieren.\", \"entities\": [ \"Buch\", \"Seite\" ], \"relation\": \"hat\", \"solution\": [ \"n\", \"1\" ] } result_data Result data of a phrase. Type: object Properties: Name Type Argument Description input Array.&lt;table_data&gt; Input data of the tables. correct boolean &lt;optional&gt; Phrase answered correctly. solution Array.&lt;table_data&gt; Solution data of the tables (main solution). alternate_solution Array.&lt;table_data&gt; &lt;optional&gt; Alternate solution found. Source: ccm.er_rel_trainer.js, line 780 Example { \"correct\": true, \"input\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ], \"solution\": [ null, [ 0, 6, 0 ], [ 0, 1058, 6 ] ] } table_data Table data. null: not created [0]: ID attribute of relation table [1]: ID attribute of entity 1 [2]: ID attribute of entity 2 [3]: ID attribute of entity 3 [4]: ID attribute of entity 4 Type: Array.&lt;attr_value&gt; Source: ccm.er_rel_trainer.js, line 795 Example [ 0, 1058, 6 ] table_nr Number of a relation scheme table (0: extra table, 1-N: entity table 1-N). Type: number Source: ccm.er_rel_trainer.js, line 836 √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Modules Classes Instance Namespaces AppEvents WebComponent √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"classes.list.html":{"id":"classes.list.html","title":"Classes","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Classes Classes Instance Namespaces AppEvents WebComponent √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Namespaces Classes Instance Namespaces AppEvents WebComponent √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"index.html":{"id":"index.html","title":"Index","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Index ccm.er_rel_trainer.js ccmjs-based web component for ER-REL Trainer. Version: latest (2.0.0) Author: Andr√© Kless &lt;andre.kless@web.de&gt; 2021-2022 License: The MIT License (MIT) Source: ccm.er_rel_trainer.js, line 3 Index configs.js App configuration of ccmjs-based web component for ER-REL Trainer. Author: Andr√© Kless &lt;andre.kless@web.de&gt; 2022 License: The MIT License (MIT) Source: configs.js, line 1 Index resources/templates.js HTML templates of ccmjs-based web component for ER-REL Trainer. Author: Andr√© Kless &lt;andre.kless@web.de&gt; 2021-2022 Source: resources/templates.js, line 1 √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"AppEvents.html":{"id":"AppEvents.html","title":"Namespace: AppEvents","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Namespace: AppEvents AppEvents Contains all event handlers. Source: ccm.er_rel_trainer.js, line 223 Methods &lt;static&gt; onAddTable(nr) When the button to add a table is clicked. Parameters: Name Type Description nr table_nr Table number Source: ccm.er_rel_trainer.js, line 271 &lt;static&gt; onArrow(value, from, to) When the end point of a connection between two tables is changed via a selector box. Parameters: Name Type Description value string The selected value in the selector box ('', 'line' or 'arrow'). from table_nr Number of the table from which the connection starts. to table_nr Number of the table to which the connection goes. Source: ccm.er_rel_trainer.js, line 374 Example onArrow( 'arrow', 1, 2 ) // Setting an arrow for the connection from entity table 1 to entity table 2 [E1]-&gt;[E2] &lt;static&gt; onCorrection() When the button is clicked that allows the user to correct an incorrect solution. Source: ccm.er_rel_trainer.js, line 544 &lt;static&gt; onEditTable(nr) When the button for editing the table attributes is clicked. Parameters: Name Type Description nr table_nr Table number Source: ccm.er_rel_trainer.js, line 296 &lt;static&gt; onFinish() When the button that finishes the app is clicked. Source: ccm.er_rel_trainer.js, line 594 &lt;static&gt; onLegend() When the button to show the notation legend is clicked. Source: ccm.er_rel_trainer.js, line 259 &lt;static&gt; onNext() When the button that starts the next phrase is clicked. Source: ccm.er_rel_trainer.js, line 576 &lt;static&gt; onNotation(value [, show_solution]) When the notation used in the ER diagram is switched. Parameters: Name Type Argument Description value string ID of the selected notation. show_solution boolean &lt;optional&gt; Correct solution is revealed. Source: ccm.er_rel_trainer.js, line 238 &lt;static&gt; onRemoveTable(nr) When the button for removing a table is clicked. Parameters: Name Type Description nr table_nr Table number Source: ccm.er_rel_trainer.js, line 317 &lt;static&gt; onSolution() When the button showing the sample solution for the current phrase is clicked. Source: ccm.er_rel_trainer.js, line 563 &lt;static&gt; onSubmit() When the button is clicked that allows the user to submit a solution. Source: ccm.er_rel_trainer.js, line 391 &lt;static&gt; onToggleBadge(table, attr, badge_nr) When a badge of a key attribute is clicked. Parameters: Name Type Description table table_nr Table number attr table_nr Table that references the attribute as a foreign key. badge_nr number 0: NULL, 1: NOT NULL, 2: PK, 3: AK, 4: FK0, 5: FK1, 6: FK2, 7: FK3, 8: FK4 Source: ccm.er_rel_trainer.js, line 338 √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"module-AppConfig.html":{"id":"module-AppConfig.html","title":"Module: AppConfig","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Module: AppConfig Used app configuration of ccmjs-based web component for ER-REL Trainer. Source: configs.js, line 7 Members &lt;static, constant&gt; config :app_config Basic configurations. Type: app_config Source: configs.js, line 16 &lt;static, constant&gt; de :Object.&lt;string, string&gt; German translations. Type: Object.&lt;string, string&gt; Source: configs.js, line 610 &lt;static, constant&gt; en :Object.&lt;string, string&gt; English translations. Type: Object.&lt;string, string&gt; Source: configs.js, line 699 &lt;static, constant&gt; notations :Object.&lt;string, notation_data&gt; Notations data. Type: Object.&lt;string, notation_data&gt; Source: configs.js, line 568 &lt;static, constant&gt; phrases :Array.&lt;phrase_data&gt; Phrases data. Type: Array.&lt;phrase_data&gt; Source: configs.js, line 59 √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"module-HTMLTemplates.html":{"id":"module-HTMLTemplates.html","title":"Module: HTMLTemplates","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Module: HTMLTemplates HTML templates of ccmjs-based web component for ER-REL Trainer. Source: resources/templates.js, line 9 Methods &lt;static&gt; legend(app) Returns the HTML template of the legend table that shows the different notations in the ER diagram. Parameters: Name Type Description app object App instance. Source: resources/templates.js, line 1163 Returns: Type * &lt;static&gt; main(app [, show_solution]) Returns the main HTML template. Parameters: Name Type Argument Description app object App instance. show_solution boolean &lt;optional&gt; Reveal main solution. Source: resources/templates.js, line 21 Returns: Type * &lt;static&gt; tableDialogBody(app, table) Returns the HTML template for the body of the table dialog. Parameters: Name Type Description app object App instance. table table_nr Table number. Source: resources/templates.js, line 1207 Returns: Type * &lt;static&gt; tableDialogFooter(app) Returns the HTML template for the footer of the table dialog. Parameters: Name Type Description app object App instance. Source: resources/templates.js, line 1251 Returns: Type * &lt;static&gt; tableDialogTitle(app, table) Returns the HTML template for the title of the table dialog. Parameters: Name Type Description app object App instance. table table_nr Table number. Source: resources/templates.js, line 1192 Returns: Type * &lt;private, inner&gt; getAttributeName(app, phrase, attr) Returns the name of a table attribute. Parameters: Name Type Description app object App instance. phrase phrase_data Phrase to which the attribute belongs. attr table_nr Table that references the attribute as a foreign key. Source: resources/templates.js, line 1293 Returns: Type string &lt;private, inner&gt; getTableName(app, phrase, table) Returns the name of a table. Parameters: Name Type Description app object App instance. phrase phrase_data Phrase to which the table belongs. table table_nr Table number. Source: resources/templates.js, line 1280 Returns: Type string &lt;private, inner&gt; toID(str) Converts a string to an identifier in snake case. Parameters: Name Type Description str string Source: resources/templates.js, line 1309 Returns: Type string Example toID('Person') // =&gt; person_id √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"WebComponent.html":{"id":"WebComponent.html","title":"Namespace: WebComponent","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Namespace: WebComponent WebComponent ccmjs-based web component for ER-REL Trainer. Properties: Name Type Argument Description name string Unique identifier of the component. version Array.&lt;number&gt; &lt;optional&gt; Version of the component according to Semantic Versioning 2.0 (default: latest version). ccm string URL of the (interchangeable) ccmjs version used at the time of publication. config app_config Default app configuration. Instance Class Class from which app instances are created. Source: ccm.er_rel_trainer.js, line 12 Classes Instance √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "},"WebComponent.Instance.html":{"id":"WebComponent.Instance.html","title":"Class: Instance","body":" ER-REL Trainer Namespaces AppEventsWebComponent Modules AppConfigHTMLTemplates Classes WebComponent.Instance Global Global Class: Instance WebComponent. Instance new Instance() Source: ccm.er_rel_trainer.js, line 100 Members &lt;private, inner&gt; $ :Object.&lt;string, function()&gt; Shortcut to helper functions Type: Object.&lt;string, function()&gt; Source: ccm.er_rel_trainer.js, line 107 &lt;private, inner&gt; data :app_state App state data Type: app_state Source: ccm.er_rel_trainer.js, line 114 Methods getValue() Returns the current app state. Source: ccm.er_rel_trainer.js, line 221 Returns: A deep copy of the app state data. Type app_state &lt;async&gt; init() When the instance is created, when all dependencies have been resolved and before the dependent sub-instances are initialized and ready. Allows dynamic post-configuration of the instance. Source: ccm.er_rel_trainer.js, line 122 &lt;async&gt; ready() When the instance is created and after all dependent sub-instances are initialized and ready. Allows the first official actions of the instance that should only happen once. Source: ccm.er_rel_trainer.js, line 161 &lt;async&gt; start() Starts the app. The current app state is visualized in the webpage area. Source: ccm.er_rel_trainer.js, line 177 &lt;private, inner&gt; nextPhrase() Starts the next phrase. Source: ccm.er_rel_trainer.js, line 611 &lt;private, inner&gt; render( [show_solution]) Updates the webpage area with the current app state data. Parameters: Name Type Argument Description show_solution boolean &lt;optional&gt; The correct solution should be revealed. Source: ccm.er_rel_trainer.js, line 634 &lt;private, inner&gt; reset() Removes the visual feedback in the webpage area. Source: ccm.er_rel_trainer.js, line 649 √ó Search results Close This documentation is written by the developer of the web component for ER model to relational scheme training: Andr√© Kless "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
